<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Fall 2021 Final Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Fall 2021 Final Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc40a.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Suraj Rampure</p>
<p>This exam was administered online. The exam was open-notes,
open-book. Students had <strong>180 minutes</strong> to take this
exam.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p><i>Originally Problem 1 on the Fall 2021 Final Exam.</i></p>
<p>The mean of 12 non-negative numbers is 45. Suppose we remove 2 of
these numbers. What is the largest possible value of the mean of the
remaining 10 numbers? Show your work.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
Click to view the solution.
</button>
</h2>
<div id="collapse1" class="accordion-collapse collapse"
aria-labelledby="heading1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>To maximize the mean of the remaining 10 numbers, we want to minimize
the numbers that are removed. The smallest possible non-negative number
is 0, so to maximize the mean of the remaining 10, we should remove two
0s from the set of numbers. Recall that the sum of the 12 number set is
<span class="math inline">12 \cdot 45</span>; then, the maximum possible
mean of the remaining 10 is</p>
<p><span class="math display">\frac{12 \cdot 45 - 2 \cdot 0}{10} =
\frac{6}{5} \cdot 45 = 54</span></p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p><i>Originally Problem 2 on the Fall 2021 Final Exam.</i></p>
<p>Consider a set of 8 data points, <span class="math inline">y_1, y_2,
..., y_8</span> that are in sorted order, i.e. <span
class="math inline">y_1 &lt; y_2 &lt; ... &lt; y_8</span>. Suppose that
<span class="math inline">y_4 = 10</span>, <span class="math inline">y_5
= 14</span>, and <span class="math inline">y_6 = 22</span>. Recall that
mean absolute error, <span class="math inline">R_{abs}(h)</span>, is
defined as <span class="math inline">R_{abs}(h) = \frac{1}{n} \sum_{i =
1}^n |y_i - h|</span>. Suppose that <span
class="math inline">R_{abs}(11) = 9</span>.</p>
<p>What is <span class="math inline">R_{abs}(22)</span>? Show your
work.</p>
<p><em>Hint: Use the formula for the slope of <span
class="math inline">R</span> at <span
class="math inline">h</span>.</em></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="true" aria-controls="collapse2">
Click to view the solution.
</button>
</h2>
<div id="collapse2" class="accordion-collapse collapse"
aria-labelledby="heading2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>We can write the points given to us as</p>
<p><span class="math display">y_1, y_2, y_3, 10, 14, 22, y_7,
y_8</span></p>
<p>Since there are an even number of data points, all values of <span class="math inline">h</span> between the middle two points minimize
<span class="math inline">R_{abs}(h)</span>. In this case, all values of
<span class="math inline">h</span> in the interval [10, 14] minimize
<span class="math inline">R_{abs}(h)</span> and, as a result, have the
same value of <span class="math inline">R_{abs}(h)</span>. Thus, <span class="math inline">R_{abs}(14) = R_{abs}(11) = 9</span>.</p>
<p>From lecture, we know that</p>
<p><span class="math display">\text{slope of R at h} = \frac{1}{n}
\left( \left(\text{\# points } &lt; h\right) - \left(\text{\# points }
&gt; h\right)\right)</span></p>
<p>We can use this formula to determine what to add to <span class="math inline">R_{abs}(14)</span> to get <span class="math inline">R_{abs}(22)</span>. Note that for values of <span class="math inline">h</span> in the interval (14, 22), the slope of
<span class="math inline">R</span> at <span class="math inline">h</span>
is <span class="math inline">\frac{1}{8} (5 - 3) = \frac{1}{4}</span>.
This means that for every 1 unit we move to the right from <span class="math inline">h = 14</span> until we get to <span class="math inline">h = 22</span>, <span class="math inline">R_{abs}(h)</span> increases by <span class="math inline">\frac{1}{4}</span>. So,</p>
<p><span class="math display">R_{abs}(22) = R_{abs}(14) + (22 - 14)
\cdot \frac{1}{4} = 9 + 2 = 11</span></p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p><i>Originally Problem 3 on the Fall 2021 Final Exam.</i></p>
<p>Consider the function <span class="math display">R(h) = (h -
2)^3</span></p>
<p>Suppose we want to try and minimize <span
class="math inline">R(h)</span> using gradient descent. We choose an
initial guess of <span class="math inline">h_0 = 1</span> and a step
size of <span class="math inline">\alpha = 1</span>.</p>
<p>Run the gradient descent algorithm twice, i.e. determine <span
class="math inline">h_1</span> and <span class="math inline">h_2</span>.
Show your work. Also, state whether or not gradient descent will
eventually find the minimizing value of <span
class="math inline">h</span>, given the specified <span
class="math inline">h_0</span> and <span
class="math inline">\alpha</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="true" aria-controls="collapse3">
Click to view the solution.
</button>
</h2>
<div id="collapse3" class="accordion-collapse collapse"
aria-labelledby="heading3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">\frac{dR}{dh} R(h) = 3 (h -
2)^2</span></p>
<p><span class="math display">\begin{align*}
    h_1 &amp;= h_0 - \alpha \cdot \frac{dR}{dh} R(h_0) \\
    &amp;= 1 - 3(1 - 2)^2 \\
    &amp;= -2
\end{align*}</span></p>
<p><span class="math display">\begin{align*}
    h_2 &amp;= h_1 - \alpha \cdot \frac{dR}{dh} R(h_1) \\
    &amp;= -2 - 3(-2 - 2)^2 \\
    &amp;= -2 - 48 \\
    &amp;= -50
\end{align*}</span></p>
<p>No, gradient descent will not converge; <span class="math inline">h_i</span> will keep getting larger and more
negative (i.e. it tends to negative infinity).</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p><i>Originally Problem 4 on the Fall 2021 Final Exam.</i></p>
<p>You may find the following properties of logarithms helpful in this
question. Assume that all logarithms in this question are natural
logarithms, i.e. of base <span class="math inline">e</span>.</p>
<ul>
<li><span class="math inline">e^{\log(x)} = x</span></li>
<li><span class="math inline">\log(a) + \log(b) = \log(a \cdot
b)</span></li>
<li><span class="math inline">\log(a) - \log(b) = \log \left(
\frac{a}{b} \right)</span></li>
<li><span class="math inline">\log(a^c) = c \log (a)</span></li>
<li><span class="math inline">\frac{d}{dx} \log x =
\frac{1}{x}</span></li>
</ul>
<p>Billy, the avocado-farmer-turned-waiter-turned-Instagram-influencer
that you’re all-too-familiar with, is trying his hand at coming up with
loss functions. He comes up with the Billy loss, <span
class="math inline">L_B(h, y)</span>, defined as follows:</p>
<p><span class="math display">L_B(h, y) = \left[ \log \left( \frac{y}{h}
\right) \right]^2</span></p>
<p>Throughout this problem, assume that all <span
class="math inline">y</span>s are positive.</p>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>Show that <span class="math display">\frac{d}{dh} L_B(h, y) = -
\frac{2}{h} \log \left( \frac{y}{h} \right)</span></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">\begin{align*}
    \frac{d}{dh} L_B(h, y) &amp;= \frac{d}{dh} \left[ \log \left(
\frac{y}{h} \right) \right]^2 \\
    &amp;= 2 \cdot \log \left( \frac{y}{h} \right) \cdot \frac{d}{dh}
\log \left( \frac{y}{h} \right) \\
    &amp;= 2 \cdot \log \left( \frac{y}{h} \right) \cdot \frac{d}{dh}
\left( \log(y) - \log(h) \right) \\
    &amp;= 2 \cdot \log \left( \frac{y}{h} \right) \cdot \left( -
\frac{1}{h} \right) \\
    &amp;= -\frac{2}{h} \log \left( \frac{y}{h} \right)
\end{align*}</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>Show that the constant prediction <span
class="math inline">h^*</span> that minimizes for Billy loss is</p>
<p><span class="math display">h^* = \left(y_1 \cdot y_2 \cdot ... \cdot
y_n \right)^{\frac{1}{n}}</span></p>
<p>You do not need to perform a second derivative test, but otherwise
you must show your work.</p>
<p><em>Hint: To confirm that you’re interpreting the result correctly,
<span class="math inline">h^*</span> for the dataset 3, 5, 16 is <span
class="math inline">(3 \cdot 5 \cdot 16)^{\frac{1}{3}} =
240^{\frac{1}{3}} \approx 6.214</span>.</em></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">\begin{align*}
    R_B(h) &amp;= \frac{1}{n} \sum_{i = 1}^n \left[ \log \left(
\frac{y_i}{h} \right) \right]^2 \\
\frac{d}{dh} R_B(h) &amp;= \frac{1}{n} \sum_{i = 1}^n \frac{d}{dh}
\left[ \log \left( \frac{y_i}{h} \right) \right]^2 \\
&amp;= \frac{1}{n} \sum_{i = 1}^n -\frac{2}{h} \log \left( \frac{y_i}{h}
\right) \\
&amp;= -\frac{2}{nh} \sum_{i = 1}^n \log \left( \frac{y_i}{h} \right) =
0 \\
0 &amp;= \sum_{i = 1}^n \log \left( \frac{y_i}{h} \right) = \sum_{i =
1}^n \left( \log(y_i) - \log(h)\right) \\
0 &amp;= \sum_{i = 1}^n \log(y_i) - \log(h) \sum_{i = 1}^n 1 \\
0 &amp;= \left( \log(y_1) + \log(y_2) + ... + \log(y_n) \right) - n
\log(h) \\
\log(h^n) &amp;= \log(y_1 \cdot y_2 \cdot ... \cdot y_n) \\
h^n &amp;= y_1 \cdot y_2 \cdot ... \cdot y_n \\
h^* &amp;= (y_1 \cdot y_2 \cdot ... \cdot y_n)^{\frac{1}{n}}
\end{align*}</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p><em>Originally Problem 5 on the Fall 2021 Final Exam.</em></p>
<p>Suppose we have a dataset of <span class="math inline">n</span>
houses that were recently sold in the San Diego area. For each house, we
have its square footage and most recent sale price. The correlation
between square footage and price is <span
class="math inline">r</span>.</p>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>First, we minimize mean squared error to fit a linear prediction rule
that uses square footage to predict price. The resulting prediction rule
has an intercept of <span class="math inline">w_0^*</span> and slope of
<span class="math inline">w_1^*</span>. In other words,</p>
<p><span class="math display">\text{predicted price} = w_0^* + w_1^*
\cdot \text{square footage}</span></p>
<p>We’re now interested in minimizing mean squared error to fit a linear
prediction rule that uses price to predict square footage. Suppose this
new regression line has an intercept of <span
class="math inline">\beta_0^*</span> and slope of <span
class="math inline">\beta_1^*</span>.</p>
<p>What is <span class="math inline">\beta_1^*</span>? Give your answer
in terms of one or more of <span class="math inline">n</span>, <span
class="math inline">r</span>, <span class="math inline">w_0^*</span>,
and <span class="math inline">w_1^*</span>. Show your work.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>Throughout this solution, let <span class="math inline">x</span>
represent square footage and <span class="math inline">y</span>
represent price.</p>
<p>We know that <span class="math inline">w_1^* = r
\frac{\sigma_y}{\sigma_x}</span>, and <span class="math inline">\beta_1^* = r \frac{\sigma_x}{\sigma_y}</span>. This
means that</p>
<p><span class="math display">w_1^* \cdot \beta_1^* = r
\frac{\sigma_y}{\sigma_x} \cdot r \frac{\sigma_x}{\sigma_y} =
r^2</span></p>
<p>and as a result, <span class="math inline">\beta_1^* =
\frac{r^2}{w_1^*}</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p><strong>For this part only</strong>, assume that the following
quantities hold:</p>
<ul>
<li><span class="math inline">n = 100</span></li>
<li><span class="math inline">r = 0.6</span></li>
<li><span class="math inline">w_0^* = 1000</span></li>
<li><span class="math inline">w_1^* = 250</span></li>
<li>The average square footage of homes in the dataset is 2000</li>
</ul>
<p>Given this information, what is <span
class="math inline">\beta_0^*</span>? Give your answer as a constant,
rounded to two decimal places. Show your work.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>We start with the formula for the intercept of the regression line.
Note that <span class="math inline">x</span> and <span class="math inline">y</span> are opposite what they’d normally be since
we’re using price to predict square footage.</p>
<p><span class="math display">\beta_0^* = \bar{x} - \beta_1^*
\bar{y}</span></p>
<p>We’re told that the average square footage of homes in the dataset is
2000, so <span class="math inline">\bar{x} = 2000</span>. We also know
from part (a) that <span class="math inline">\beta_1^* =
\frac{r^2}{w_1^*}</span>, and from the information given in this part
this is <span class="math inline">\beta_1^* = \frac{r^2}{w_1^*} =
\frac{0.6^2}{250}</span>.</p>
<p>Finally, we need the average price of all homes in the dataset, <span class="math inline">\bar{y}</span>. We aren’t given this information
directly, but we can use the fact that <span class="math inline">(\bar{x}, \bar{y})</span> are on the regression line
that uses square footage to predict price to find <span class="math inline">\bar{y}</span>. Specifically, we have that <span class="math inline">\bar{y} = w_0^* + w_1^* \bar{x}</span>; we know that
<span class="math inline">w_0^* = 1000</span>, <span class="math inline">\bar{x} = 2000</span>, and <span class="math inline">w_1^* = 250</span>, so <span class="math inline">\bar{y} = 1000 + 2000 \cdot 250 = 501000</span>.</p>
<p>Putting these pieces together, we have</p>
<p><span class="math display">\beta_0^* = \bar{x} - \beta_1^* \bar{y} =
2000 - \frac{0.6^2}{250} \cdot 501000 = 2000 - 0.6^2 \cdot 2004 =
1278.56</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p><em>Originally Problem 6 on the Fall 2021 Final Exam.</em></p>
<p>Billy’s aunt owns a jewellery store, and gives him data on 5000 of
the diamonds in her store. For each diamond, we have:</p>
<ul>
<li><strong>carat</strong>: the weight of the diamond, in carats</li>
<li><strong>length</strong>: the length of the diamond, in
centimeters</li>
<li><strong>width</strong>: the width of the diamond, in
centimeters</li>
<li><strong>price</strong>: the value of the diamond, in dollars</li>
</ul>
<p>The first 5 rows of the 5000-row dataset are shown below:</p>
<table>
<thead>
<tr class="header">
<th>carat</th>
<th>length</th>
<th>width</th>
<th>price</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0.40</td>
<td>4.81</td>
<td>4.76</td>
<td>1323</td>
</tr>
<tr class="even">
<td>1.04</td>
<td>6.58</td>
<td>6.53</td>
<td>5102</td>
</tr>
<tr class="odd">
<td>0.40</td>
<td>4.74</td>
<td>4.76</td>
<td>696</td>
</tr>
<tr class="even">
<td>0.40</td>
<td>4.67</td>
<td>4.65</td>
<td>798</td>
</tr>
<tr class="odd">
<td>0.50</td>
<td>4.90</td>
<td>4.95</td>
<td>987</td>
</tr>
</tbody>
</table>
<p>Billy has enlisted our help in predicting the price of a diamond
given various other features.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p>Suppose we want to fit a linear prediction rule that uses two
features, carat and length, to predict price. Specifically, our
prediction rule will be of the form</p>
<p><span class="math display">\text{predicted price} = w_0 + w_1 \cdot
\text{carat} + w_2 \cdot \text{length}</span></p>
<p>We will use least squares to find <span class="math inline">\vec{w}^*
= \begin{bmatrix} w_0^* \\ w_1^* \\ w_2^* \end{bmatrix}</span>.</p>
<p>Write out the first 5 rows of the design matrix, <span
class="math inline">X</span>. Your matrix should not have any variables
in it.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">X = \begin{bmatrix} 1 &amp; 0.40 &amp;
4.81 \\ 1 &amp; 1.04 &amp; 6.58 \\ 1 &amp; 0.40 &amp; 4.74 \\ 1 &amp;
0.40 &amp; 4.67 \\ 1 &amp; 0.50 &amp; 4.90 \end{bmatrix}</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.2">Problem 6.2</h3>
<p>Suppose the optimal parameter vector <span
class="math inline">\vec{w}^*</span> is given by</p>
<p><span class="math display">\vec{w}^* = \begin{bmatrix} 2000 \\ 10000
\\ -1000 \end{bmatrix}</span></p>
<p>What is the predicted price of a diamond with 0.65 carats and a
length of 4 centimeters? Show your work.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse"
aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>The predicted price is</p>
<p><span class="math display">2000 + 10000 \cdot 0.65 - 1000 \cdot 4 =
4500</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.3">Problem 6.3</h3>
<p>Suppose <span class="math inline">\vec{e} = \begin{bmatrix} e_1 \\
e_2 \\ ... \\ e_n \end{bmatrix}</span> is the error/residual vector,
defined as</p>
<p><span class="math display">\vec{e} = \vec{y} - X \vec{w}^*</span></p>
<p>where <span class="math inline">\vec{y}</span> is the observation
vector containing the prices for each diamond.</p>
<p>For each of the following quantities, state whether they are
guaranteed to be equal to 0 the scalar, <span
class="math inline">\vec{0}</span> the vector of all 0s, or neither. No
justification is necessary.</p>
<ul>
<li><span class="math inline">\sum_{i = 1}^n e_i</span></li>
<li><span class="math inline">|| \vec{y} - X \vec{w}^* ||^2</span></li>
<li><span class="math inline">X^TX \vec{w}^*</span></li>
<li><span class="math inline">2X^TX \vec{w}^* - 2X^T\vec{y}</span></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_3" aria-expanded="true" aria-controls="collapse6_3">
Click to view the solution.
</button>
</h2>
<div id="collapse6_3" class="accordion-collapse collapse"
aria-labelledby="heading6_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<ul>
<li><span class="math inline">\sum_{i = 1}^n e_i</span>: Yes, this is
guaranteed to be 0. This was discussed in Homework 4; it is a
consequence of the fact that <span class="math inline">X^T (y - X
\vec{w}^*) = 0</span> and that we have an intercept term in our
prediction rule (and hence a column of all 1s in our design matrix,
<span class="math inline">X</span>).</li>
<li><span class="math inline">|| \vec{y} - X \vec{w}^* ||^2</span>: No,
this is not guaranteed to be 0. This is the mean squared error of our
prediction rule, multiplied by <span class="math inline">n</span>. <span class="math inline">\vec{w}^*</span> is found by minimizing mean squared
error, but the minimum value of mean squared error isn’t necessarily 0 —
in fact, this quantity is only 0 if we can write <span class="math inline">\vec{y}</span> exactly as <span class="math inline">X \vec{w}^*</span> with no prediction errors.</li>
<li><span class="math inline">X^TX \vec{w}^*</span>: This is not
guaranteed to be 0, either.</li>
<li><span class="math inline">2X^TX \vec{w}^* - 2X^T\vec{y}</span>: This
is guaranteed to be 0. Recall, the optimal parameter vector <span class="math inline">\vec{w}^*</span> satisfies the normal equations
<span class="math inline">X^TX\vec{w}^* = X^T \vec{y}</span>.
Subtracting <span class="math inline">X^T \vec{y}</span> from both sides
of this equation and multiplying both sides by 2 yields the desired
result. (You may also find <span class="math inline">2X^TX \vec{w}^* -
2X^T\vec{y}</span> to be familiar from lecture — it is the gradient of
the mean squared error, multiplied by <span class="math inline">n</span>, and we set the gradient to 0 to find <span class="math inline">\vec{w}^*</span>.)</li>
</ul>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-6.4">Problem 6.4</h3>
<p>Suppose we introduce two more features:</p>
<ul>
<li>width alone, and</li>
<li>area, which is defined as length times width</li>
</ul>
<p>Suppose we also decide to remove the intercept term of our prediction
rule. With all of these changes, our prediction rule is now</p>
<p><span class="math display">\text{predicted price} = w_1 \cdot
\text{carat} + w_2 \cdot \text{length} + w_3 \cdot \text{width} + w_4
\cdot (\text{length} \cdot \text{width}) </span></p>
<ul>
<li>Write out just the first 2 rows of the design matrix <span
class="math inline">X</span> for this new prediction rule. You do
<strong>not</strong> need to simplify the numbers in your matrix, it is
fine if they involve the multiplication symbol.</li>
<li>Is the optimal coefficient for carat, <span
class="math inline">w_1^*</span>, for this new prediction rule
guaranteed to be equal to 10000, the optimal coefficient for carat in
our original prediction rule? No justification is necessary.</li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_4" aria-expanded="true" aria-controls="collapse6_4">
Click to view the solution.
</button>
</h2>
<div id="collapse6_4" class="accordion-collapse collapse"
aria-labelledby="heading6_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<ul>
<li><span class="math inline">X = \begin{bmatrix} 0.40 &amp; 4.81 &amp;
4.76 &amp; 4.81 \cdot 4.76 \\ 1.04 &amp; 6.58 &amp; 6.53 &amp; 6.58
\cdot 6.53 \end{bmatrix}</span></li>
<li>No, it’s not guaranteed that the <span class="math inline">\vec{w}_1^*</span> for this new prediction rule is
equal to the <span class="math inline">\vec{w}_1^*</span> for the
original prediction rule. The value of <span class="math inline">\vec{w}_1^*</span> in the new prediction rule will
be influenced by the fact that there’s no longer an intercept term and
that there are two new features (width and area) that weren’t previously
there.</li>
</ul>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
