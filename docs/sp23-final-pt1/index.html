<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Spring 2023 Final Exam Part 1</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Spring 2023 Final Exam Part 1</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">‚Üê return to practice.dsc40a.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Janine Tiefenbruck</p>
<p>This exam was administered in person. Students had <strong>50
minutes</strong> to take this exam.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p><i>Source: <a href="../sp23-final-pt1/index.html">Spring 2023 Final
Part 1</a>, Problem 1</i></p>
<p>For a given dataset <span class="math inline">\{y_1, y_2, \dots,
y_n\}</span>, let <span class="math inline">M_{abs}(h)</span> represent
the <strong>median</strong> absolute error of the constant prediction
<span class="math inline">h</span> on that dataset (as opposed to the
mean absolute error <span class="math inline">R_{abs}(h)</span>).</p>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>For the dataset <span class="math inline">\{4, 9, 10, 14,
15\}</span>, what is <span class="math inline">M_{abs}(9)</span>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">5</span></p>
<p>The first step is to calculate the absolute errors (<span class="math inline">|y_i - h|</span>).</p>
<p><span class="math display">
\begin{align*}
\text{Absolute Errors} &amp;= \{|4-9|, |9-9|, |10-9|, |14-9|, |15-9|\}
\\
\text{Absolute Errors} &amp;= \{|-5|, |0|, |1|, |5|, |6|\} \\
\text{Absolute Errors} &amp;= \{5, 0, 1, 5, 6\}
\end{align*}
</span></p>
<p>Now we have to order the values inside of the absolute errors: <span class="math inline">\{0, 1, 5, 5, 6\}</span>. We can see the median is
<span class="math inline">5</span>, so <span class="math inline">M_{abs}(9) =5</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>For the same dataset <span class="math inline">\{4, 9, 10, 14,
15\}</span>, find another integer <span class="math inline">h</span>
such that <span class="math inline">M_{abs}(9) = M_{abs}(h)</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">5</span> or <span class="math inline">15</span></p>
<p>Our goal is to find another number that will give us the same median
of absolute errors as in part (a).</p>
<p>One way to do this is to plug in a number and guess. Another way
requires noticing you can modify <span class="math inline">10</span>
(the middle element) to become <span class="math inline">5</span> in
either direction (negative or positive) because of the absolute
value.</p>
<p>We can solve this equation to get <span class="math inline">|10-x| =
5 \rightarrow x = 15 \text{ and } x = 5</span>.</p>
<p>We can then test this by following the same steps as we did in part
(a).</p>
<p><strong>For <span class="math inline">x = 15</span>:</strong> <span class="math display">
\begin{align*}
\text{Absolute Errors} &amp;= \{|4-15|, |9-15|, |10-15|, |14-15|,
|15-15|\} \\
\text{Absolute Errors} &amp;= \{|-11|, |-6|, |-5|, |-1|, |0|\} \\
\text{Absolute Errors} &amp;= \{11, 6, 5, 1, 0\}
\end{align*}
</span></p>
<p>Then we order the elements to get the absolute errors: <span class="math inline">\{0, 1, 5, 6, 11\}</span>. We can see the median is
<span class="math inline">5</span>, so <span class="math inline">M_{abs}(15) =5</span>.</p>
<p><strong>For <span class="math inline">x = 5</span>:</strong> <span class="math display">
\begin{align*}
\text{Absolute Errors} &amp;= \{|4-5|, |9-5|, |10-5|, |14-5|, |15-5|\}
\\
\text{Absolute Errors} &amp;= \{|-1|, |4|, |5|, |9|, |10|\} \\
\text{Absolute Errors} &amp;= \{1, 4, 5, 9, 10\}
\end{align*}
</span></p>
<p>We do not have to re-order the elements because they are in order
already. We can see the median is <span class="math inline">5</span>, so
<span class="math inline">M_{abs}(5) =5</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.3">Problem 1.3</h3>
<p>Based on your answers to parts (a) and (b), discuss in <strong>at
most two sentences</strong> what is problematic about using the median
absolute error to make predictions.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_3" aria-expanded="true" aria-controls="collapse1_3">
Click to view the solution.
</button>
</h2>
<div id="collapse1_3" class="accordion-collapse collapse"
aria-labelledby="heading1_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>The numbers <span class="math inline">5</span> and <span class="math inline">15</span> are clearly bad predictions (close to the
extreme values in the dataset), yet they are considered just as good a
prediction by this metric as the number <span class="math inline">9</span>, which is roughly in the center of the
dataset. Intuitively, <span class="math inline">9</span> is a much
better prediction, but this way of measuring the quality of a prediction
does not recognize that.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p><i>Source: <a href="../sp23-final-pt1/index.html">Spring 2023 Final
Part 1</a>, Problem 2</i></p>
<p>Match each dataset with the graph of its mean absolute error, <span
class="math inline">R_{abs}(h)</span>.</p>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<center><img src="../assets/images/sp23-final-pt1/matching.jpg" width="500" height="350"></center>
<p><br></p>
<p><span class="math inline">\{4, 7, 9, 10, 11\}</span></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Graph 1</p></li>
<li><p><input type="radio" disabled="" /> Graph 2</p></li>
<li><p><input type="radio" disabled="" /> Graph 3</p></li>
<li><p><input type="radio" disabled="" /> Graph 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>Graph 2</p>
<p>The important thing to note here is the y axis is equal to <span class="math inline">R_{abs}(h)</span> and the x axis is equal to our
<span class="math inline">h</span>. The easiest way to figure out which
graph belongs to which dataset is to choose some numbers for <span class="math inline">h</span> and see if a line matches up with the
chosen points.</p>
<table>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr>
<th><span class="math inline">h^*</span></th>
<th><span class="math inline">R_{abs}(h)</span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="math inline">0</span></td>
<td><span class="math inline">\frac{1}{5}\sum_{i = 1}^{5}|y_i-0| =
\frac{1}{5} \cdot 41 \approx 8</span></td>
</tr>
<tr>
<td><span class="math inline">8</span></td>
<td><span class="math inline">\frac{1}{5}\sum_{i = 1}^{5}|y_i-8| =
\frac{1}{5} \cdot 11 = 2</span></td>
</tr>
<tr>
<td><span class="math inline">18</span></td>
<td><span class="math inline">\frac{1}{5}\sum_{i = 1}^{5}|y_i-18| =
\frac{1}{5} \cdot 49 \approx 10</span></td>
</tr>
</tbody>
</table>
<p><br/></p>
<p>When looking at these three places we can see that this dataset
matches Graph 2.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<center><img src="../assets/images/sp23-final-pt1/matching.jpg" width="500" height="350"></center>
<p><br></p>
<p><span class="math inline">\{-3, 1, 9, 11, 20\}</span></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Graph 1</p></li>
<li><p><input type="radio" disabled="" /> Graph 2</p></li>
<li><p><input type="radio" disabled="" /> Graph 3</p></li>
<li><p><input type="radio" disabled="" /> Graph 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>Graph 1</p>
<p>We will use the same approach we used in part (a).</p>
<table>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr>
<th><span class="math inline">h^*</span></th>
<th><span class="math inline">R_{abs}(h)</span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="math inline">0</span></td>
<td><span class="math inline">\frac{1}{5}\sum_{i = 1}^{5}|y_i-0| =
\frac{1}{5} \cdot 44 \approx 9</span></td>
</tr>
<tr>
<td><span class="math inline">8</span></td>
<td><span class="math inline">\frac{1}{5}\sum_{i = 1}^{5}|y_i-8| =
\frac{1}{5} \cdot 34 \approx 7</span></td>
</tr>
<tr>
<td><span class="math inline">18</span></td>
<td><span class="math inline">\frac{1}{5}\sum_{i = 1}^{5}|y_i-18| =
\frac{1}{5} \cdot 56 \approx 11</span></td>
</tr>
</tbody>
</table>
<p><br/></p>
<p>When looking at these three places we can see that this dataset
matches Graph 1.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.3">Problem 2.3</h3>
<center><img src="../assets/images/sp23-final-pt1/matching.jpg" width="500" height="350"></center>
<p><br></p>
<p><span class="math inline">\{8, 9, 12, 13, 15\}</span></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Graph 1</p></li>
<li><p><input type="radio" disabled="" /> Graph 2</p></li>
<li><p><input type="radio" disabled="" /> Graph 3</p></li>
<li><p><input type="radio" disabled="" /> Graph 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_3" aria-expanded="true" aria-controls="collapse2_3">
Click to view the solution.
</button>
</h2>
<div id="collapse2_3" class="accordion-collapse collapse"
aria-labelledby="heading2_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>Graph 3</p>
<p>We will use the same approach we used in the previous parts.</p>
<table>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr>
<th><span class="math inline">h^*</span></th>
<th><span class="math inline">R_{abs}(h)</span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="math inline">0</span></td>
<td><span class="math inline">\frac{1}{5}\sum_{i = 1}^{5}|y_i-0| =
\frac{1}{5} \cdot 44 \approx 11</span></td>
</tr>
<tr>
<td><span class="math inline">8</span></td>
<td><span class="math inline">\frac{1}{5}\sum_{i = 1}^{5}|y_i-8| =
\frac{1}{5} \cdot 17 \approx 3</span></td>
</tr>
<tr>
<td><span class="math inline">18</span></td>
<td><span class="math inline">\frac{1}{5}\sum_{i = 1}^{5}|y_i-18| =
\frac{1}{5} \cdot 33 \approx 7</span></td>
</tr>
</tbody>
</table>
<p><br/></p>
<p>When looking at these three places we can see that this dataset
matches Graph 3.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.4">Problem 2.4</h3>
<center><img src="../assets/images/sp23-final-pt1/matching.jpg" width="500" height="350"></center>
<p><br></p>
<p><span class="math inline">\{11, 12, 12, 13, 14\}</span></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> Graph 1</p></li>
<li><p><input type="radio" disabled="" /> Graph 2</p></li>
<li><p><input type="radio" disabled="" /> Graph 3</p></li>
<li><p><input type="radio" disabled="" /> Graph 4</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_4" aria-expanded="true" aria-controls="collapse2_4">
Click to view the solution.
</button>
</h2>
<div id="collapse2_4" class="accordion-collapse collapse"
aria-labelledby="heading2_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>Graph 4</p>
<p>We will use the same approach we used in the previous parts.</p>
<table>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr>
<th><span class="math inline">h^*</span></th>
<th><span class="math inline">R_{abs}(h)</span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="math inline">0</span></td>
<td><span class="math inline">\frac{1}{5}\sum_{i = 1}^{5}|y_i-0| =
\frac{1}{5} \cdot 62 \approx 12</span></td>
</tr>
<tr>
<td><span class="math inline">8</span></td>
<td><span class="math inline">\frac{1}{5}\sum_{i = 1}^{5}|y_i-8| =
\frac{1}{5} \cdot 22 \approx 4</span></td>
</tr>
<tr>
<td><span class="math inline">18</span></td>
<td><span class="math inline">\frac{1}{5}\sum_{i = 1}^{5}|y_i-18| =
\frac{1}{5} \cdot 28 \approx 6</span></td>
</tr>
</tbody>
</table>
<p><br/> When looking at these three places we can see that this dataset
matches Graph 4. Another way would be choosing the only option not
chosen in the other parts yet!</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p><i>Source: <a href="../sp23-final-pt1/index.html">Spring 2023 Final
Part 1</a>, Problem 3</i></p>
<p>You and a friend independently perform gradient descent on the same
function, but after 100 iterations, you have different results. Which of
the following is sufficient <strong>on its own</strong> to explain the
difference in your results? <strong>Note:</strong> When we say ‚Äúsame
function‚Äù we assume the learning rate and initial predictions are the
same too until said otherwise.</p>
<p><strong>Select all that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The function is nonconvex.</p></li>
<li><p><input type="checkbox" disabled="" /> The function is not differentiable.</p></li>
<li><p><input type="checkbox" disabled="" /> You and your friend chose different learning rates.</p></li>
<li><p><input type="checkbox" disabled="" /> You and your friend chose different initial predictions.</p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="true" aria-controls="collapse3">
Click to view the solution.
</button>
</h2>
<div id="collapse3" class="accordion-collapse collapse"
aria-labelledby="heading3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>Bubbles 3: ‚ÄúYou and your friend chose different learning rates.‚Äù</p>
<p>If the function is nonconvex and you and your friend have the same
initial prediction and learning rate you should end up in the same
location local or global minimum.</p>
<p>If the function is not differentiable then you cannot perform
gradient descent, so this cannot be an answer.</p>
<p>If you and your friend chose different learning rates it is possible
to have different results because if you have a really large learning
rate you might be hopping over the global minimum without properly
converging. Your friend could choose a smaller learning rate, which will
allow you to converge to the global minimum.</p>
<p>If you and your friend chose the same initial predictions you are
guaranteed to end up in the same spot.</p>
<p>Because two of the option choices are possible the answer cannot be
‚ÄúNone of the above.‚Äù</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p><i>Source: <a href="../sp23-final-pt1/index.html">Spring 2023 Final
Part 1</a>, Problem 4</i></p>
<p>In simple linear regression, our goal was to fit a prediction rule of
the form <span class="math inline">H(x) = w_0 + w_1x</span>. We found
many equivalent formulas for the slope of the regression line:</p>
<p><span class="math display">w_1^*
=\displaystyle\frac{\displaystyle\sum_{i=1}^n (x_i - \overline x)(y_i -
\overline y)}{\displaystyle\sum_{i=1}^n (x_i - \overline x)^2}
= \displaystyle\frac{\displaystyle\sum_{i=1}^n (x_i - \overline
x)y_i}{\displaystyle\sum_{i=1}^n (x_i - \overline x)^2}
= r \cdot \displaystyle\frac{\sigma_y}{\sigma_x}</span></p>
<p>Show that any one of the above formulas is equivalent to the formula
below.</p>
<p><span
class="math display">\displaystyle\frac{\displaystyle\sum_{i=1}^n (x_i -
\overline x)(y_i + 2)}{\displaystyle\sum_{i=1}^n (x_i - \overline
x)^2}</span></p>
<p>In other words, this is yet another formula for <span
class="math inline">w_1^*</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4" aria-expanded="true" aria-controls="collapse4">
Click to view the solution.
</button>
</h2>
<div id="collapse4" class="accordion-collapse collapse"
aria-labelledby="heading4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>We‚Äôll show the equivalence to the middle formula above. Since the
denominators are the same, we just need to show <span class="math display">\begin{align*}
     \displaystyle\sum_{i=1}^n (x_i - \overline x)(y_i + 2) &amp;=
\displaystyle\sum_{i=1}^n (x_i - \overline x)y_i.\\
     \displaystyle\sum_{i=1}^n (x_i - \overline x)(y_i + 2) &amp;=
\displaystyle\sum_{i=1}^n (x_i - \overline x)y_i +
\displaystyle\sum_{i=1}^n (x_i - \overline x)\cdot2 \\
     &amp;= \displaystyle\sum_{i=1}^n (x_i - \overline x)y_i +
2\cdot\displaystyle\sum_{i=1}^n (x_i - \overline x) \\
    &amp;= \displaystyle\sum_{i=1}^n (x_i - \overline x)y_i + 2\cdot0 \\
    &amp;= \displaystyle\sum_{i=1}^n (x_i - \overline x)y_i\\
\end{align*}</span></p>
<p>This proof uses a fact we‚Äôve already seen, that <span class="math inline">\displaystyle\sum_{i=1}^n (x_i - \overline x) =
0</span>. It is not necesary to re-prove this fact when answering this
question.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p><i>Source: <a href="../sp23-final-pt1/index.html">Spring 2023 Final
Part 1</a>, Problem 5</i></p>
<p>Suppose we want to predict how long it takes to run a Jupyter
notebook on Datahub. For 100 different Jupyter notebooks, we collect the
following 5 pieces of information:</p>
<ul>
<li><p><strong>cells</strong>: number of cells in the notebook</p></li>
<li><p><strong>lines</strong>: number of lines of code</p></li>
<li><p><strong>max iterations</strong>: largest number of iterations in
any loop in the notebook, or 1 if there are no loops</p></li>
<li><p><strong>variables</strong>: number of variables defined in the
notebook</p></li>
<li><p><strong>runtime</strong>: number of seconds for the notebook to
run on Datahub</p></li>
</ul>
<p>Then we use multiple regression to fit a prediction rule of the form
<span class="math display">H(\text{cells, lines, max iterations,
variables}) =  w_0 + w_1 \cdot \text{cells} \cdot \text{lines} + w_2
\cdot (\text{max iterations})^{\text{variables} - 10}</span></p>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>What are the dimensions of the design matrix <span
class="math inline">X</span>?</p>
<p><span class="math display">\begin{bmatrix}
&amp; &amp; &amp; \\
&amp; &amp; &amp; \\
&amp; &amp; &amp; \\
\end{bmatrix}_{r \times c}</span></p>
<p>So, what should <span class="math inline">r</span> and <span
class="math inline">c</span> be for: <span class="math inline">r</span>
rows <span class="math inline">\times</span> <span
class="math inline">c</span> columns.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">100 \text{ rows} \times 3 \text{
columns}</span></p>
<p>There should be <span class="math inline">100</span> rows because
there are <span class="math inline">100</span> different Jupyter
notebooks with different information within them. There should be <span class="math inline">3</span> columns, one for each <span class="math inline">w_i</span>. In this case we have <span class="math inline">w_0</span>, which means <span class="math inline">X</span> will have a column of ones, <span class="math inline">w_1</span>, which means <span class="math inline">X</span> will have a second column of <span class="math inline">\text{cells} \cdot \text{lines}</span>, and <span class="math inline">w_2</span>, which will be the last column in <span class="math inline">X</span> containing <span class="math inline">\text{max iterations})^{\text{variables} -
10}</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>In <strong>one sentence</strong>, what does the entry in row 3,
column 2 of the design matrix X represent? (Count rows and columns
starting at 1, not 0).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>This entry represents the product of the number of cells and number
of lines of code for the third Jupyter notebook in the training
dataset.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p><i>Source: <a href="../sp23-final-pt1/index.html">Spring 2023 Final
Part 1</a>, Problem 6</i></p>
Now we solve the normal equations and find the solution to be
<span class="math display">\begin{aligned}
            \vec{w}^* &amp;= \begin{bmatrix} w_0^* \\ w_1^* \\ w_2^*
\end{bmatrix}
\end{aligned}</span>
Define a new vector:
<span class="math display">\begin{aligned}
            \vec{w}^{\circ} &amp;= \begin{bmatrix} w_0^{\circ} \\
w_1^{\circ} \\ w_2^{\circ} \end{bmatrix} = \begin{bmatrix} w_0^*+3 \\
w_1^*-4 \\ w_2^*-6 \end{bmatrix}
            
\end{aligned}</span>
<p>and consider the two prediction rules</p>
<span class="math display">\begin{aligned}
        H^*(\text{cells, lines, max iterations, variables})
&amp;=  w_0^* + w_1^* \cdot \text{cells} \cdot \text{lines} + w_2^*
\cdot (\text{max iterations})^{\text{variables} - 10}\\
        H^{\circ}(\text{cells, lines, max iterations, variables})
&amp;=  w_0^{\circ} + w_1^{\circ} \cdot \text{cells} \cdot \text{lines}
+ w_2^{\circ} \cdot (\text{max iterations})^{\text{variables} - 10}
        
\end{aligned}</span>
<p>Let <span class="math inline">\text{MSE}</span> represent the mean
squared error of a prediction rule, and let <span
class="math inline">\text{MAE}</span> represent the mean absolute error
of a prediction rule. Select the symbol that should go in each
blank.</p>
<p><br></p>
<h3 id="problem-6.1">Problem 6.1</h3>
<p><span class="math inline">\text{MSE}(H^*)</span> ___ <span
class="math inline">\text{MSE}(H^{\circ})</span></p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">\leq</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\geq</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">=</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_1" aria-expanded="true" aria-controls="collapse6_1">
Click to view the solution.
</button>
</h2>
<div id="collapse6_1" class="accordion-collapse collapse"
aria-labelledby="heading6_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">\leq</span></p>
<p>It is given that <span class="math inline">\vec{w}^*</span> is the
optimal parameter vector. Here‚Äôs one thing we know about the optimal
parameter vector <span class="math inline">\vec{w}^*</span>: it is
optimal, which means that any <em>changes</em> made to it will, at best,
keep our predictions of the exact same quality, and, at worst, reduce
the quality of our predictions and <strong>increase our error</strong>.
And since <span class="math inline">\vec{w} \degree</span> is just the
optimal parameter vector but with some small <em>changes</em> to the
weights, it stands that <span class="math inline">\vec{w} \degree</span>
is liable to create equal or greater error!</p>
<p>In other words, <span class="math inline">\vec{w} \degree</span> is a
slightly worse version of <span class="math inline">\vec{w}^*</span>,
meaning that <span class="math inline">H \degree(x)</span> is a slightly
worse version of <span class="math inline">H^*(x)</span>. So, <span class="math inline">H \degree(x)</span> will have equal or higher error
than <span class="math inline">H^*(x)</span>.</p>
<p>Hence: <span class="math inline">\text{MSE}(H^*) \leq
\text{MSE}(H^{\circ})</span></p>
<!-- Recall the equation for mean squared error: $\text{MSE}(H(x_i)) = \frac{1}{n}\sum_{i=1}^n(y_i-H(x_i))^2$. We can figure out which is bigger by subtracting  $\text{MSE}(H^{\circ})$ from $\text{MSE}(H^*)$. The difference between the squared differences is:
$$(y_i-H^*(x_i))^2-(y_i-H^{\circ}(x_i))^2$$Notice there is a squared element, which means that the differences of $w^*_0 - w^{\circ}_0$, $w^*_1 - w^{\circ}_1$, and $w^*_2 - w^{\circ}_2$ will appear as squared terms, which are always positive! This means adding these squared differences to $H^*$ will make it at least as large as the squared difference for $H^{\circ}$. -->
</div>
</div>
</div>
</div>
<p><br></p>
<!-- Commented out this subproblem for now, solution is wack. To uncomment, highlight from "BEGIN SUBPROB" to "..other way around" -->
<!-- <br>

### Problem 6.2



$(\text{MAE}(H^{\circ}))^2$ ___ $\text{MSE}(H^{\circ})$

<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">\leq</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">\geq</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">=</span></p></li>
</ul>






<div class="accordion" id="accordionExample">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6_2" aria-expanded="true" aria-controls="collapse6_2">
Click to view the solution.
</button>
</h2>
<div id="collapse6_2" class="accordion-collapse collapse collapse" aria-labelledby="heading6_2" data-bs-parent="#accordionExample">
<div class="accordion-body">

<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">\geq</span></p>
<p>The formula for mean absolute error is: <span class="math inline">\text{MAE}(H(x_i)) =
\frac{1}{n}\sum_{i=1}^n|y_i-H(x_i)|</span><br/>
The formula for mean squared error is: <span class="math inline">\text{MSE}(H(x_i)) =
\frac{1}{n}\sum_{i=1}^n(y_i-H(x_i))^2</span></p>
<p>We can substitute these two formulas into our comparison and recieve:
<span class="math inline">(\frac{1}{n}\sum_{i=1}^n|y_i-H(x_i)|)^2</span>
___ <span class="math inline">\frac{1}{n}\sum_{i=1}^n(y_i-H(x_i))^2</span></p>
<p>It is now clear that our comparison boils down to this question:
‚ÄúWhich is greater? If I take the absolute errors, square them, and then
sum them up‚Ä¶ <em>or</em> if I take the absolute errors, sum them up, and
then square them?‚Äù</p>
<p>Rules from algebra tell us that summing the absolute errors up
<em>before</em> squaring them will always produce a greater result than
the other way around (this holds when all of our values are positive,
which they are in this case thanks to dealing with <em>absolute</em>
errors)! It‚Äôs a good exercise to think about why this is the case, but a
basic example is if I have two positive values <span class="math inline">a</span> and <span class="math inline">b</span>:
<span class="math inline">(a + b)^2 = a^2 + b^2 + 2ab \geq a^2 +
b^2</span>, since <span class="math inline">2ab</span> is a non-negative
term.</p>
<p>Bringing this altogether, we should conclude that <span class="math inline">\text{MAE}(H(x_i))^2  \geq
\text{MSE}(H(x_i))</span>, since summing up the errors before squaring
them is greater than the other way around!</p>
<p>Old Solution Below:</p>
<p>This equation looks very similar to the mean squared error! We can
actually take the square root of each sides of this equation to learn
more about which side is larger: <span class="math display">
\begin{align*}
(\text{MAE}(H^\circ))^2 &amp;\_\_\_ \text{MSE}(H^\circ) \\
\sqrt{(\text{MAE}(H^\circ))^2} &amp;\_\_\_ \sqrt{\text{MSE}(H^\circ)} \\
\text{MAE}(H^\circ) &amp;\_\_\_ \sqrt{\text{MSE}(H^\circ)}
\end{align*}
</span></p>
<p>The square root of <span class="math inline">\text{MSE}</span> is
equal to <span class="math inline">\text{MAE}</span>! These two elements
are basically the same because squaring a value will lead to
non-negatives and then it will be square rooted to match the absolute
value from <span class="math inline">\text{MAE}</span>. However the
<span class="math inline">\text{MSE}</span> being square rooted also
allows for it to be smaller than the <span class="math inline">\text{MSE}</span> making the correct symbol <span class="math inline">\geq</span>.</p>

</div>
</div>
</div>
</div>




    
<br> -->
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">üëã
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
