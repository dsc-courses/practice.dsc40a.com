<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Winter 2024 Final Exam 1</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="..\assets\theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Winter 2024 Final Exam 1</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">‚Üê return to practice.dsc40a.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Janine Tiefenbruck (???)</p>
<p>This exam was administered in person. The exam was open-notes,
open-book, but no calculator. Students had <strong>50 minutes</strong>
to take this exam.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p>[(8 points)]Suppose there is a dataset containing 10,000 integers,
2,500 of them are 3, 2,500 of them are 5, 4,500 of them are 7, and 500
of them are 9.</p>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>(4 points) Calculate the median of this dataset.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">6</span></p>
<p>TODO</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>(4 points) How does the mean of this dataset compared to its
median?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> The mean is larger than the median</p></li>
<li><p><input type="radio" disabled="" /> The mean is smaller than the median</p></li>
<li><p><input type="radio" disabled="" /> The mean and the median are equal</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>The mean is smaller than the median</p>
<p>TODO</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p>[(8 points)] You and a friend independently perform gradient descent
on the same function, but after 200 iterations, you have different
results. Which of the following is sufficient <strong>on its
own</strong> to explain the difference in your results? <strong>Select
all that apply.</strong></p>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" /> The function is nonconvex.</p></li>
<li><p><input type="checkbox" disabled="" /> The function is not differentiable.</p></li>
<li><p><input type="checkbox" disabled="" /> You and your friend chose different learning rates.</p></li>
<li><p><input type="checkbox" disabled="" /> You and your friend chose the same initial predictions.</p></li>
<li><p><input type="checkbox" disabled="" /> None of the above.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="true" aria-controls="collapse2">
Click to view the solution.
</button>
</h2>
<div id="collapse2" class="accordion-collapse collapse"
aria-labelledby="heading2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>You and your friend chose different learning rates.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p>[(10 points)] 3. Suppose there is a dataset contains 4 values: -2,
-1, 2, 4. You would like to use gradient descent to minimize the mean
square error over this dataset.</p>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>(2 points) Write down the expression of mean square error and its
derivative given this dataset</p>
<p><span class="math inline">R_{sq}(h)</span> =</p>
<p><span class="math inline">\frac{dR_{sq}(h)}{dh}</span> =</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">R_{sq}(h) =
\frac{1}{4}\sum_{i=1}^{4}(y_i-h)^2</span></p>
<p>TODO</p>
<p><span class="math inline">\frac{dR_{sq}(h)}{dh} =
\frac{1}{2}\sum_{i=1}^{4}(h-y_i)</span></p>
<p>TODO</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>(4 points) Suppose you choose the initial position to be <span
class="math inline">h_0</span> and the learning rate to be <span
class="math inline">\frac{1}{4}</span>. After two gradient descent
steps, <span class="math inline">h_2=\frac{1}{4}</span>. What is the
value of <span class="math inline">h_0</span>?</p>
<p><span class="math inline">h_0</span> =</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>The gradient descent equation is given by: <span class="math display">\begin{aligned}
    h_i = h_{i-1} - \alpha \frac{dR_{sq}(h_{i-1})}{dh}
\end{aligned}</span> We can plug in <span class="math inline">\alpha =
1/4</span>, <span class="math inline">h_2 = 1/4</span>, and <span class="math inline">i=2</span>, in that case we obtain: <span class="math display">\begin{aligned}
    \frac{1}{4} &amp;= h_{1} - \alpha \frac{dR_{sq}(h_{1})}{dh}\\
    &amp;= h_{1} - \alpha \frac{1}{2}\sum_{i=1}^{4}(h_1-y_i)\\
        &amp;= h_{1} - \frac{1}{8}(h_{1} + 2 + h_{1} + 1 + h_{1} - 2 +
h_{1} - 4)\\
        &amp;= h_{1} - \frac{1}{8}(4h_{1} -3)\\
\end{aligned}</span> Solving this equation, we obtain that <span class="math inline">h_{1} = -\frac{1}{4}</span>. We can then repeat this
step once more to obtain h_0: <span class="math display">\begin{aligned}
    -\frac{1}{4} &amp;= h_{0} - \alpha \frac{dR_{sq}(h_{0})}{dh}\\
        &amp;= h_{0} - \frac{1}{4}(h_{0} + 2 + h_{0} + 1 + h_{0} - 2 +
h_{0} - 4)\\
        &amp;= h_{0} - \frac{1}{8}(4h_{0} -3)\\
\end{aligned}</span> Solving this equation, we obtain that <span class="math inline">h_{0} = -\frac{5}{4}</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p>(4 points) Given that we set the tolerance of gradient descent to be
0.1. How many <strong>additional steps</strong> beyond <span
class="math inline">h_2</span> do we need to take to reach
convergence?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> 0</p></li>
<li><p><input type="radio" disabled="" /> 1</p></li>
<li><p><input type="radio" disabled="" /> 2</p></li>
<li><p><input type="radio" disabled="" /> 3</p></li>
<li><p><input type="radio" disabled="" /> 4</p></li>
<li><p><input type="radio" disabled="" /> It will never converge</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>The gradient descent equation is given by: <span class="math display">\begin{aligned}
    h_i = h_{i-1} - \alpha \frac{dR_{sq}(h_{i-1})}{dh}
\end{aligned}</span> Now we start from <span class="math inline">\alpha
= 1/4</span>, <span class="math inline">h_2 = 1/4</span>, and <span class="math inline">i=2</span>, in that case we obtain: <span class="math display">\begin{aligned}
    h_{3} &amp;= h_{2} - \alpha \frac{dR_{sq}(h_{2})}{dh}\\
    &amp;= h_{2} - \frac{1}{8}(4h_{2} -3)\\
    &amp;= \frac{1}{4} - \frac{1}{8}(1 -3)\\
    &amp;= \frac{1}{2}\\
\end{aligned}</span> Iteratively, we have: <span class="math display">\begin{aligned}
    h_{4} &amp;= h_{3} - \alpha \frac{dR_{sq}(h_{3})}{dh}\\
    &amp;= h_{3} - \frac{1}{8}(4h_{3} -3)\\
    &amp;= \frac{1}{2} - \frac{1}{8}(2 -3)\\
    &amp;= \frac{5}{8}\\
\end{aligned}</span> <span class="math display">\begin{aligned}
    h_{5} &amp;= h_{4} - \alpha \frac{dR_{sq}(h_{4})}{dh}\\
    &amp;= h_{3} - \frac{1}{8}(4h_{4} -3)\\
    &amp;= \frac{5}{8} - \frac{1}{8}(\frac{5}{2}-3)\\
    &amp;= \frac{11}{16}\\
\end{aligned}</span> from <span class="math inline">h_4</span> to <span class="math inline">h_5</span>, the change is smaller than the
tolerance. That means we need additional 2 or 3 steps to reach
convergence (depending on if you actually perform <span class="math inline">h_4</span> to <span class="math inline">h_5</span>,
so both 2 and 3 are considered correct answer).</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p>(14 points) Albert collected 400 data points from a radiation
detector. Each data point contains 3 feature: feature A, feature B and
feature C, along with the true particle energy E. Albert want to design
a linear regression algorithm to predict the energy E of each particle,
given one or a combination(s) of feature A, B, C. As the first step,
Albert calculated the correlation coefficients among A, B, C and E. He
wrote it down in the following table, where each cell of the table
represents the correlaton of two terms:</p>
<div class="center">
<table>
<thead>
<tr class="header">
<th></th>
<th style="text-align: left;"><strong>Feature A</strong></th>
<th style="text-align: left;"><strong>Feature B</strong></th>
<th style="text-align: left;"><strong>Feature C</strong></th>
<th style="text-align: left;"><strong>Energy E</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Feature A</strong></td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">-0.99</td>
<td style="text-align: left;">0.13</td>
<td style="text-align: left;">0.8</td>
</tr>
<tr class="even">
<td><strong>Feature B</strong></td>
<td style="text-align: left;">-0.99</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0.25</td>
<td style="text-align: left;">-0.95</td>
</tr>
<tr class="odd">
<td><strong>Feature C</strong></td>
<td style="text-align: left;">0.13</td>
<td style="text-align: left;">0.25</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0.72</td>
</tr>
<tr class="even">
<td><strong>Energy E</strong></td>
<td style="text-align: left;">0.8</td>
<td style="text-align: left;">-0.95</td>
<td style="text-align: left;">0.72</td>
<td style="text-align: left;">1</td>
</tr>
</tbody>
</table>
</div>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>(4pt) Albert want to start with a simple model: fitting only a single
feature to obtain the true energy (i.e.¬†<span class="math inline">y =
w_0+w_1 x</span>). Which feature should he choose as <span
class="math inline">x</span> to get the lowest mean square error?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> A</p></li>
<li><p><input type="radio" disabled="" /> B</p></li>
<li><p><input type="radio" disabled="" /> C</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>B is the correct answer, because it has the highest absolute
correlation (0.95), the negative sign in front of B just means it is
negatively correlated to energy and it can be compensated by a negative
sign in the weight.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>(2pt) Albert want to add another feature into his linear regression
in part a) to further boost the model‚Äôs performance. (i.e. <span
class="math inline">y = w_0+w_1 x + +w_2 x_2</span>) Which feature
should he choose as <span class="math inline">x_2</span> to make
additional improvements?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> A</p></li>
<li><p><input type="radio" disabled="" /> B</p></li>
<li><p><input type="radio" disabled="" /> C</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>C is the correct answer, because although A has a higher correlation
with energy, it also has an extremely high correlation with B (-0.99),
that means adding A into the fit will not be too much useful, since it
provides almost the same information as B.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.3">Problem 4.3</h3>
<p>Albert further refine his algorithm by fitting a prediction rule of
the form: <span class="math display">\begin{aligned}
H(A,B,C) = w_0 + w_1 \cdot A\cdot C + w_2 \cdot B^{C-7}
\end{aligned}</span></p>
<p>(3pt)Given this prediction rule, What are the dimensions of the
design matrix X? AKA what is <span class="math inline">r</span> and
<span class="math inline">c</span>?</p>
<p><span class="math inline">r \text{rows} \times c
\text{columns}</span></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_3" aria-expanded="true" aria-controls="collapse4_3">
Click to view the solution.
</button>
</h2>
<div id="collapse4_3" class="accordion-collapse collapse"
aria-labelledby="heading4_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">400 \text{rows} \times 3
\text{columns}</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.4">Problem 4.4</h3>
<p>(5pt) Now Albert solve the normal equations and find the solution to
be: <span class="math display">\vec{w}^* = \begin{bmatrix} w_0^* \\
w_1^* \\ w_2^*  \end{bmatrix}</span> To improve on this result, Albert
decides to modify his design matrix with the following steps:</p>
<ol type="1">
<li><p>Add 1 to every entry to the first column</p></li>
<li><p>Interchange the second and the third column</p></li>
</ol>
<p>Let <span class="math inline">X_a</span> be the modified design
matrix. Let <span class="math inline">\vec{w_a}^* =
(X_a^TX_a)^{-1}X_a^T\vec{y}</span>. Express the components <span
class="math inline">\vec{w_a}^*</span> in terms of <span
class="math inline">w_0^*, w_1^*, w_2^*</span>, which were the
components of <span class="math inline">\vec{w}^*</span>.</p>
<p><span class="math display">\vec{w_a}^* = \begin{bmatrix}
\phantom{XXX} \\ \phantom{XXX} \\ \phantom{XXX} \\ \phantom{XXX} \\
\phantom{XXX} \end{bmatrix}</span></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_4" aria-expanded="true" aria-controls="collapse4_4">
Click to view the solution.
</button>
</h2>
<div id="collapse4_4" class="accordion-collapse collapse"
aria-labelledby="heading4_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">\vec{w}^* = \begin{bmatrix} w_0^*/2 \\
w_2^* \\ w_1^*  \end{bmatrix}</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">üëã
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
