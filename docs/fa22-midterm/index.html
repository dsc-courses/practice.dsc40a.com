<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Fall 2022 Midterm Exam</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Fall 2022 Midterm Exam</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">‚Üê return to practice.dsc40a.com</a></p>
<hr />
<p><strong>Instructor(s):</strong> Truong Son Hy, Mahdi Soleymani</p>
<p>This exam was administered in person. Students had <strong>50
minutes</strong> to take this exam.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p><i>Source: <a href="../fa22-midterm/index.html">Fall 2022
Midterm</a>, Problem 1</i></p>
<p>Suppose that we are given <span class="math inline">f(x) = x^3 +
x^2</span> and learning rate <span class="math inline">\alpha =
1/4</span>.</p>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>Write down the updating rule for gradient descent in general, then
write down the updating rule for gradient descent for the function <span
class="math inline">f(x)</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>In general, the updating rule for gradient descent is: <span class="math display">x_{i + 1} = x_i - \alpha \nabla f(x_i) = x_i -
\alpha \frac{\partial f}{\partial x}(x_i),</span> where <span class="math inline">\alpha \in \mathbb{R}_+</span> is the learning rate
or step size. For this function, since <span class="math inline">f</span> is a single-variable function, we can write
down the updating rule as: <span class="math display">x_{i + 1} = x_i -
\alpha \frac{df}{dx}(x_i) = x_i - \alpha f'(x_i).</span> We also
have: <span class="math display">\frac{df}{dx} = f'(x) = 3x^2 +
2x,</span> thus the updating rule can be written down as: <span class="math display">x_{i + 1} = x_i - \alpha(3x_i^2 + 2x_i) =
-\frac{3}{4} x_i^2 + \frac{1}{2}x_i.</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>If we start at <span class="math inline">x_0 = -1</span>, should we
go left or right? Can you verify this mathematically? What is <span
class="math inline">x_1</span>? Can gradient descent converge? If so,
where it might converge to, given appropriate step size?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>We have <span class="math display">f'(x_0) = f'(-1) = 3(-1)^2
+ 2(-1) = 1 &gt; 0,</span> so we go <strong>left</strong>, and <span class="math display">x_1 = x_0 - \alpha f'(x_0) = -1 - \frac{1}{4} =
-\frac{5}{4}.</span> Intuitively, the gradient descent <strong>cannot
converge in this case</strong> because <span class="math display">\text{lim}_{x \rightarrow -\infty} f(x) =
-\infty,</span></p>
<p>We need to find all local minimums and local maximums. First, we
solve the equation <span class="math inline">f'(x) = 0</span> to
find all critical points.</p>
<p>We have: <span class="math display">f'(x) = 0 \Leftrightarrow
3x^2 + 2x = 0 \Leftrightarrow x = -\frac{2}{3} \ \ \text{and} \ \ x =
0.</span></p>
<p>Now, we consider the second-order derivative: <span class="math display">f''(x) = \frac{d^2f}{dx^2} = 6x +
2.</span></p>
<p>We have <span class="math inline">f''(x) = 0</span> only when
<span class="math inline">x = -1/3</span>. Thus, for <span class="math inline">x &lt; -1/3</span>, <span class="math inline">f''(x)</span> is negative or the slope <span class="math inline">f'(x)</span> decreases; and for <span class="math inline">x &gt; -1/3</span>, <span class="math inline">f''(x)</span> is positive or the slope <span class="math inline">f'(x)</span> increases. Keep in mind that <span class="math inline">-1 &lt; -2/3 &lt; -1/3 &lt; 0 &lt; 1</span>.</p>
<p>Therefore, <span class="math inline">f</span> has a local maximum at
<span class="math inline">x = -2/3</span> and a local minimum at <span class="math inline">x = 0</span>. If the gradient descent starts at
<span class="math inline">x_0 = -1</span> and it always goes left then
it will never meet the local minimum at <span class="math inline">x =
0</span>, and it will go left infinitely. We say the gradient descent
cannot converge, or is divergent.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.3">Problem 1.3</h3>
<p>If we start at <span class="math inline">x_0 = 1</span>, should we go
left or right? Can you verify this mathematically? What is <span
class="math inline">x_1</span>? Can gradient descent converge? If so,
where it might converge to, given appropriate step size?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_3" aria-expanded="true" aria-controls="collapse1_3">
Click to view the solution.
</button>
</h2>
<div id="collapse1_3" class="accordion-collapse collapse"
aria-labelledby="heading1_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>We have <span class="math display">f'(x_0) = f'(-1) = 3 \cdot
1^2 + 2 \cdot 1 = 5 &gt; 0,</span> so we go <strong>left</strong>, and
<span class="math display">x_1 = x_0 - \alpha f'(x_0) = 1 -
\frac{1}{4} \cdot 5 = -\frac{1}{4}.</span></p>
<p>From the previous part, function <span class="math inline">f</span>
has a local minimum at <span class="math inline">x = 0</span>, so the
gradient descent <strong>can converge</strong> (given appropriate step
size) at this local minimum.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.4">Problem 1.4</h3>
<p>Write down <span class="math inline">1</span> condition to terminate
the gradient descent algorithm (in general).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_4" aria-expanded="true" aria-controls="collapse1_4">
Click to view the solution.
</button>
</h2>
<div id="collapse1_4" class="accordion-collapse collapse"
aria-labelledby="heading1_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>There are several ways to terminate the gradient descent
algorithm:</p>
<ul>
<li><p>If the change in the optimization objective is too small, i.e.
<span class="math inline">|f(x_i) - f(x_{i + 1})| &lt; \epsilon</span>
where <span class="math inline">\epsilon</span> is a small
constant,</p></li>
<li><p>If the gradient is close to zero or the norm of the gradient is
very small, i.e.¬†<span class="math inline">\|\nabla f(x_i)\| &lt;
\lambda</span> where <span class="math inline">\lambda</span> is a small
constant.</p></li>
</ul>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p><i>Source: <a href="../fa22-midterm/index.html">Fall 2022
Midterm</a>, Problem 2</i></p>
<p>Calculate <span class="math inline">w_1^*</span> and <span
class="math inline">w_0^*</span> of the linear regression line for the
following dataset, <span class="math inline">\mathcal{D}</span>. You may
use the fill-in-the-blanks and the table below to organize your
work.</p>
<p><span class="math inline">\mathcal{D} = \{(0, 0), (4, 2), (5,
1)\}</span>.</p>
<p><span class="math inline">\bar x = \phantom{\hspace{.5in}}</span>
<span class="math inline">\bar y = \phantom{\hspace{.5in}}</span></p>
<div style="text-align:center; border-width:10px; border-color:black">
<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 31%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th><span class="math inline">x_i</span></th>
<th><span class="math inline">y_i</span></th>
<th><span class="math inline">(x_i - \bar x)</span></th>
<th><span class="math inline">(y_i - \bar y)</span></th>
<th><span class="math inline">(x_i - \bar x)(y_i - \bar y)</span></th>
<th><span class="math inline">(x_i - \bar x)^2</span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="math inline">0</span></td>
<td><span class="math inline">0</span></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><span class="math inline">4</span></td>
<td><span class="math inline">2</span></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><span class="math inline">5</span></td>
<td><span class="math inline">1</span></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><!-- \begin{center}
    \begin{tabular}{llllll}\toprule
        $x_i$ & $y_i$ & $(x_i - \bar x)$ & $(y_i - \bar y)$ & $(x_i - \bar x)(y_i - \bar y)$ & $(x_i - \bar x)^2$
        \\\midrule
        0 & 0 & -3 & -1 & 3 & 9 \\
        4 & 2 & 1 & 1 & 1 & 1 \\
        5 & 1 & 2 & 0 & 0 & 4 \\
        \bottomrule
    \end{tabular} \\
\end{center}  --></p>
<!-- <table style="border-collapse: collapse; border: 2px solid black; width: 100%;">
  <thead>
    <tr>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$x_i$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$y_i$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(x_i - \bar{x})$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(y_i - \bar{y})$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(x_i - \bar{x})(y_i - \bar{y})$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(x_i - \bar{x})^2$</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">0</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">0</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
    </tr>
    <tr>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">4</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">2</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
    </tr>
    <tr>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">5</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">1</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
    </tr>
  </tbody>
</table> -->
<!-- Come back to this later, table formatting -->
<p><span class="math inline">w_1^* =</span><br />
<span class="math inline">w_0^* =</span></p>
<p>Finally, what can we say about the correlation <span
class="math inline">r</span> and the slope for this dataset
(mathematically)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="true" aria-controls="collapse2">
Click to view the solution.
</button>
</h2>
<div id="collapse2" class="accordion-collapse collapse"
aria-labelledby="heading2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">\bar{x} = \frac{1}{3}(0 + 4 + 5) = 3</span>
<span class="math inline">\quad \quad\bar{y} = \frac{1}{3}(0 + 2 + 1) =
1</span><br/>
<br/></p>
<div style="text-align:center; border-width:10px; border-color:black">
<table>
<colgroup>
<col style="width: 6%"/>
<col style="width: 6%"/>
<col style="width: 17%"/>
<col style="width: 17%"/>
<col style="width: 31%"/>
<col style="width: 19%"/>
</colgroup>
<thead>
<tr>
<th><span class="math inline">x_i</span></th>
<th><span class="math inline">y_i</span></th>
<th><span class="math inline">(x_i - \bar x)</span></th>
<th><span class="math inline">(y_i - \bar y)</span></th>
<th><span class="math inline">(x_i - \bar x)(y_i - \bar y)</span></th>
<th><span class="math inline">(x_i - \bar x)^2</span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="math inline">0</span></td>
<td><span class="math inline">0</span></td>
<td><span class="math inline">-3</span></td>
<td><span class="math inline">-1</span></td>
<td><span class="math inline">3</span></td>
<td><span class="math inline">9</span></td>
</tr>
<tr>
<td><span class="math inline">4</span></td>
<td><span class="math inline">2</span></td>
<td><span class="math inline">1</span></td>
<td><span class="math inline">1</span></td>
<td><span class="math inline">1</span></td>
<td><span class="math inline">1</span></td>
</tr>
<tr>
<td><span class="math inline">5</span></td>
<td><span class="math inline">1</span></td>
<td><span class="math inline">2</span></td>
<td><span class="math inline">0</span></td>
<td><span class="math inline">0</span></td>
<td><span class="math inline">4</span></td>
</tr>
</tbody>
</table>
</div>
<!-- \begin{center}
    \begin{tabular}{llllll}\toprule
        $x_i$ & $y_i$ & $(x_i - \bar x)$ & $(y_i - \bar y)$ & $(x_i - \bar x)(y_i - \bar y)$ & $(x_i - \bar x)^2$
        \\\midrule
        0 & 0 & -3 & -1 & 3 & 9 \\
        4 & 2 & 1 & 1 & 1 & 1 \\
        5 & 1 & 2 & 0 & 0 & 4 \\
        \bottomrule
    \end{tabular} \\
\end{center}  -->
<!-- <table style="border-collapse: collapse; border: 2px solid black; width: 100%;">
  <thead>
    <tr>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$x_i$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$y_i$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(x_i - \bar{x})$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(y_i - \bar{y})$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(x_i - \bar{x})(y_i - \bar{y})$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(x_i - \bar{x})^2$</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">0</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">0</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">-3</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">-1</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">3</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">9</td>
    </tr>
    <tr>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">4</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">2</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">1</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">1</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">1</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">1</td>
    </tr>
    <tr>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">5</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">1</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">2</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">0</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">0</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">4</td>
    </tr>
  </tbody>
</table> -->
<p><br/></p>
<p><span class="math inline">w_1^* = \displaystyle
\frac{\sum_{i=1}^n (x_i - \bar{x})(y_i - \bar{y})}{\sum_{i=1}^n (x_i -
\bar{x})^2}
= \frac{3 + 1 + 0}{9 + 1 + 4} = \frac{4}{14} = \frac{2}{7}</span><br>
</br></p>
<p><span class="math inline">w_0^* = \bar{y} - w_1^* \bar{x} = 1 -
\frac{2}{7} \cdot 3 = 1 - \frac{6}{7} = \frac{1}{7}</span></p>
<p>Because <span class="math inline">w_1^* = r
\frac{\sigma_y}{\sigma_x}</span> where the standard deviations <span class="math inline">\sigma_y</span> and <span class="math inline">\sigma_x</span> are non-negative, and <span class="math inline">w_1^* = 2/7 &gt; 0</span>, <strong>the correlation
<span class="math inline">r</span> is positive and the slope is
positive</strong>.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p><i>Source: <a href="../fa22-midterm/index.html">Fall 2022
Midterm</a>, Problem 3</i></p>
<p>Mahdi runs a local pastry shop near UCSD and sells traditional desert
called Baklava. He bakes Baklavas every morning to keep his promise of
providing fresh Baklavas to his customers daily. Here is the amount of
Baklava he sold each day during last week in pounds(lb): <span
class="math display">y_1=100, y_2=110, y_3=75, y_4=90, y_5=105, y_6=90,
y_7=25</span></p>
<p>Mahdi needs your help as a data scientist to suggest <u>the best
constant prediction (<span class="math inline">h^*</span>) of daily
sales that minimizes the empirical risk using <span
class="math inline">L(h,y)</span> as the loss function</u>. Answer the
following questions and give a <strong>brief justification</strong> for
each part. <strong>This problem has many parts, if you get stuck, move
on and come back later!</strong></p>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>Let <span class="math inline">L(h,y)=|y-h|</span>. What is <span
class="math inline">h^*</span>? (We‚Äôll later refer to this prediction as
<span class="math inline">h_1^*</span>).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>As we have seen in lectures, the median minimizes the absolute loss
risk function. <span class="math display">h^*_1=\text{Median}(y_1,
\cdots, y_7).</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Let <span class="math inline">L(h,y)=(y-h)^2</span>. What is <span
class="math inline">h^*</span>? (We‚Äôll later refer to this prediction as
<span class="math inline">h_2^*</span>).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>As we have seen in lectures, the mean minimizes the square loss risk
function. <span class="math display">h^*_2=\text{Mean}(y_1, \cdots,
y_7).</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p><strong>True</strong> or <strong>False</strong>: Removing <span
class="math inline">y_1</span> and <span class="math inline">y_3</span>
from the dataset does not change <span
class="math inline">h_2^*</span>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False. It changes the mean from <span class="math inline">85</span>
to <span class="math inline">84</span>. (However, the median is not
changed.)</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.4">Problem 3.4</h3>
<p>Mahdi thinks that <span class="math inline">y_7</span> is an outlier.
Hence, he asks you to remove <span class="math inline">y_7</span> and
update your predictions in parts (a) and (b) accordingly. Without
calculating the new predictions, can you justify which prediction
changes <em>more</em>? <span class="math inline">h^*_1</span> or <span
class="math inline">h_2^*</span>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_4" aria-expanded="true" aria-controls="collapse3_4">
Click to view the solution.
</button>
</h2>
<div id="collapse3_4" class="accordion-collapse collapse"
aria-labelledby="heading3_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>Removing <span class="math inline">y_7</span> affects <span class="math inline">h_2^*</span> more than <span class="math inline">h_1^*</span>. This is because the mean squared loss
is more sensitive to outliers than absolute loss, and removing data
changes the mean more.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.5">Problem 3.5</h3>
<p><strong>True</strong> or <strong>False</strong>: Let <span
class="math inline">L(y,h)=|y-h|^3</span>. You can use the Gradient
descent algorithm to find <span class="math inline">h^*</span>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_5" aria-expanded="true" aria-controls="collapse3_5">
Click to view the solution.
</button>
</h2>
<div id="collapse3_5" class="accordion-collapse collapse"
aria-labelledby="heading3_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False. The function <span class="math inline">|y-h|^3</span> is not
differentiable everywhere so we can not use the gradient descent to find
the minimum.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.6">Problem 3.6</h3>
<p><strong>True</strong> or <strong>False</strong>: Let <span
class="math inline">L(y,h)=\sin(y-h)</span>. The Gradient descent
algorithm is guaranteed to converge, provided that a proper learning
rate is given.<br />
</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_6" aria-expanded="true" aria-controls="collapse3_6">
Click to view the solution.
</button>
</h2>
<div id="collapse3_6" class="accordion-collapse collapse"
aria-labelledby="heading3_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False. The function is not convex, so the gradient descent algorithm
is not guaranteed to converge.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.7">Problem 3.7</h3>
<p>Mahdi has noticed that Baklava daily sale is associated with weather
temperature. So he asks you to incorporate this feature to get a better
prediction. Suppose the last week‚Äôs daily temperatures are <span
class="math inline">x_1, x_2, \cdots, x_7</span> in Fahrenheit (F). We
know that <span class="math inline">\bar x=65</span>, <span
class="math inline">\sigma_x=8.5</span> and the best linear prediction
that <u>minimizes the mean squared error</u> is <span
class="math inline">H^*(x)=-3x+w_0^*</span>.</p>
<p>What is the correlation coefficient (<span
class="math inline">r</span>) between <span class="math inline">x</span>
and <span class="math inline">y</span>? What does that mean?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_7" aria-expanded="true" aria-controls="collapse3_7">
Click to view the solution.
</button>
</h2>
<div id="collapse3_7" class="accordion-collapse collapse"
aria-labelledby="heading3_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">r=-0.95</span>. This means the weather
temperature inversely affects Baklava sales, i.e., they are highly
negatively correlated.</p>
<p>We know <span class="math inline">w_1^* =
\frac{\sigma_y}{\sigma_x}r.</span> We know that <span class="math inline">\sigma_x=8.5</span> and <span class="math inline">w_1^*=-3</span>. We can find <span class="math inline">\sigma_y</span> as follows:</p>
<p><span class="math display">\begin{aligned}
    \sigma_y^2 =&amp; \frac{1}{n} \sum_{i = 1}^n (y_i - \bar{y})^2\\
    =&amp;
\frac{1}{7}[(100-85)^2+(110-85)^2+(75-85)^2+(90-85)^2+(105-85)^2+(90-85)^2+(25-85)^2]\\
    =&amp;\frac{1}{7}[15^2+25^2+10^2+5^2+20^2+5^2+60^2]=714.28
\end{aligned}</span></p>
<p>Then, <span class="math inline">\sigma_y=26.7</span> which results in
<span class="math inline">r=-0.95</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.8">Problem 3.8</h3>
<p><strong>True</strong> or <strong>False</strong>: The unit of <span
class="math inline">r</span> is <span
class="math inline">\frac{lb}{F}</span> (Pound per Fahrenheit).</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_8">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_8" aria-expanded="true" aria-controls="collapse3_8">
Click to view the solution.
</button>
</h2>
<div id="collapse3_8" class="accordion-collapse collapse"
aria-labelledby="heading3_8" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False. The correlation coefficient has no unit. (It is always a
unitless number in <span class="math inline">[-1,1]</span> range.)</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.9">Problem 3.9</h3>
<p>Find <span class="math inline">w^*_0</span>. <em>(Hint: You‚Äôll need
to find <span class="math inline">\bar y</span> for the given
dataset)</em></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_9">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_9" aria-expanded="true" aria-controls="collapse3_9">
Click to view the solution.
</button>
</h2>
<div id="collapse3_9" class="accordion-collapse collapse"
aria-labelledby="heading3_9" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">w_0^*=280</span></p>
<p>Note that <span class="math inline">H(\bar x)=\bar y</span>.
Therefore, <span class="math display">\begin{aligned}
        H(65)=-3\cdot 65 +w_0^*=85 \xrightarrow[]{}w_0^*=280.
\end{aligned}</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.10">Problem 3.10</h3>
<p>What would the best linear prediction <span
class="math inline">H^*(x)</span> be if we multiply all <span
class="math inline">x_i</span>‚Äôs by <span
class="math inline">2</span>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_10">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_10" aria-expanded="true" aria-controls="collapse3_10">
Click to view the solution.
</button>
</h2>
<div id="collapse3_10" class="accordion-collapse collapse"
aria-labelledby="heading3_10" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">H^*(x) = -1.5x + 280</span></p>
<p>The standard deviation scales by a factor of <span class="math inline">2</span>, i.e., <span class="math inline">\sigma_x'=2\cdot \sigma_x</span>.<br/> The same
is true for the mean, i.e., <span class="math inline">\bar{x}'=2
\cdot \bar{x}.</span> <br/> The correlation <span class="math inline">r</span>, standard deviation of the y-values <span class="math inline">\sigma_y</span>, and the mean of the y-values <span class="math inline">\bar y</span> do not change. <br/> (You can verify
these claims by plugging <span class="math inline">2x</span> in for
<span class="math inline">x</span> in their respective formulas and
seeing what happens, but it‚Äôs faster to <em>visually</em> reason why
this happens.)</p>
<p>Therefore, <span class="math inline">w_1'^*=\frac{\sigma_y'}{\sigma_x'}r'
= \frac{(\sigma_y)}{(2\cdot\sigma_x)}(r) = \frac{w_1^*}{2} =
-1.5</span>.</p>
<p>We can find <span class="math inline">w_0'^*</span> as
follows:</p>
<p><span class="math display">\begin{align*}
\bar{y}'&amp;=H(\bar{x}')\\&amp;=\frac{w_1^*}{2}(2\bar{x})+w_0'^*\\&amp;=w_1^*\bar{x}+w_0'^*
\\
&amp;\downarrow \\
(85) &amp;= -3(65) + w_0'^* \\
w_0'^*&amp;=280
\end{align*}</span></p>
<p>So, <span class="math inline">H^*(x)</span> would be <span class="math inline">-1.5x + 280</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.11">Problem 3.11</h3>
<p>What would the best linear prediction <span
class="math inline">H^*(x)</span> be if we add <span
class="math inline">20</span> to all <span
class="math inline">x_i</span>‚Äôs?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_11">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_11" aria-expanded="true" aria-controls="collapse3_11">
Click to view the solution.
</button>
</h2>
<div id="collapse3_11" class="accordion-collapse collapse"
aria-labelledby="heading3_11" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">H^*(x) = -3x + 340</span></p>
<p>All parameters remain unchanged except <span class="math inline">\bar{x}'=\bar{x}+20.</span> Since <span class="math inline">r</span>, <span class="math inline">\sigma_x</span>
and <span class="math inline">\sigma_y</span> are not changed, <span class="math inline">w_1^*</span> does not change. Then, one can find
<span class="math inline">w_0^*</span> as follows:</p>
<p><span class="math display">\begin{align*}
\bar{y}'&amp;=H(\bar{x}') \\
&amp;\downarrow \\
(85) &amp;=-3(65+20)+w_0^* \\
w_0^*&amp;=340
\end{align*}</span></p>
<p>So, <span class="math inline">H^*(x)</span> would be <span class="math inline">-3x + 340</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p><i>Source: <a href="../fa22-midterm/index.html">Fall 2022
Midterm</a>, Problem 4</i></p>
<p>Consider a dataset that consists of <span class="math inline">y_1,
\cdots, y_n</span>. In class, we used calculus to minimize mean squared
error, <span class="math inline">R_{sq}(h) = \frac{1}{n} \sum_{i = 1}^n
(h - y_i)^2</span>. In this problem, we want you to apply the same
approach to a slightly different loss function defined below: <span
class="math display">L_{\text{midterm}}(y,h)=(\alpha y - h)^2+\lambda
h</span></p>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>Write down the empiricial risk <span
class="math inline">R_{\text{midterm}}(h)</span> by using the above loss
function.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">R_{\text{midterm}}(h)=\frac{1}{n}\sum_{i=1}^{n}[(\alpha
y_i - h)^2+\lambda h]=[\frac{1}{n}\sum_{i=1}^{n}(\alpha y_i - h)^2]
+\lambda h</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p>The mean of dataset is <span class="math inline">\bar{y}</span>, i.e.
<span class="math inline">\bar{y} = \frac{1}{n} \sum_{i = 1}^n
y_i</span>. Find <span class="math inline">h^*</span> that minimizes
<span class="math inline">R_{\text{midterm}}(h)</span> using calculus.
Your result should be in terms of <span
class="math inline">\bar{y}</span>, <span
class="math inline">\alpha</span> and <span
class="math inline">\lambda</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">h^*=\alpha \bar{y} -
\frac{\lambda}{2}</span></p>
<hr/>
<p><br/></p>
<p><span class="math display">
\begin{align*}
\frac{d}{dh}R_{\text{midterm}}(h)&amp;= [\frac{2}{n}\sum_{i=1}^{n}(h-
\alpha y_i  )] +\lambda \\
&amp;=2 h-2\alpha \bar{y} + \lambda.
\end{align*}
</span></p>
<p>By setting <span class="math inline">\frac{d}{dh}R_{\text{midterm}}(h)=0</span> we get
<span class="math display">2 h^*-2\alpha \bar{y} + \lambda=0 \Rightarrow
h^*=\alpha \bar{y} - \frac{\lambda}{2}.</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">üëã
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
