<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Simple Linear Regression</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Simple Linear Regression</h1>
</header>
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
<!-- add after bootstrap.min.js or bootstrap.bundle.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script></p>
<!-- for difficulty gauges-->
<script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B947E6J6H4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B947E6J6H4');
</script>
<p><a href="../index.html">← return to practice.dsc40a.com</a></p>
<hr />
<p>This page contains all problems about Simple Linear Regression.</p>
<hr />
<h2 id="problem-1">Problem 1</h2>
<p><i>Source: <a href="../sp24-final/index.html">Spring 2024 Final</a>,
Problem 3</i></p>
<p>Suppose we’re given a dataset of <span class="math inline">n</span>
points, <span class="math inline">(x_1, y_1), (x_2, y_2), ..., (x_n,
y_n)</span>, where <span class="math inline">\bar{x}</span> is the mean
of <span class="math inline">x_1, x_2, ..., x_n</span> and <span
class="math inline">\bar{y}</span> is the mean of <span
class="math inline">y_1, y_2, ..., y_n</span>.</p>
<p>Using this dataset, we create a <em>transformed</em> dataset of <span
class="math inline">n</span> points, <span
class="math inline">(x_1&#39;, y_1&#39;), (x_2&#39;, y_2&#39;), ...,
(x_n&#39;, y_n&#39;)</span>, where:</p>
<p><span class="math display">x_i&#39; = 4x_i - 3 \qquad y_i&#39; = y_i
+ 24</span></p>
<p>That is, the transformed dataset is of the form <span
class="math inline">(4x_1 - 3, y_1 + 24), ..., (4x_n - 3, y_n +
24)</span>.</p>
<p>We decide to fit a simple linear hypothesis function <span
class="math inline">H(x&#39;) = w_0 + w_1x&#39;</span> on the
transformed dataset using squared loss. We find that <span
class="math inline">w_0^* = 7</span> and <span class="math inline">w_1^*
= 2</span>, so <span class="math inline">H^*(x&#39;) = 7 +
2x&#39;</span>.</p>
<p><br></p>
<h3 id="problem-1.1">Problem 1.1</h3>
<p>Suppose we were to fit a simple linear hypothesis function through
the original dataset, <span class="math inline">(x_1, y_1), (x_2, y_2),
..., (x_n, y_n)</span>, again using squared loss. What would the optimal
slope be?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">2</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">4</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">6</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">8</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">11</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">12</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">24</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_1" aria-expanded="true" aria-controls="collapse1_1">
Click to view the solution.
</button>
</h2>
<div id="collapse1_1" class="accordion-collapse collapse"
aria-labelledby="heading1_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">8.</span></p>
<p>Relative to the dataset with <span class="math inline">x'</span>,
the dataset with <span class="math inline">x</span> has an <span class="math inline">x</span>-variable that’s “compressed” by a factor of
4, so the slope increases by a factor of 4 to <span class="math inline">2 \cdot 4 = 8</span>.</p>
<p>Concretely, this can be shown by looking at the formula <span class="math inline">2 = r\frac{SD(y')}{SD(x')}</span>,
recognizing that <span class="math inline">SD(y') = SD(y)</span>
since the <span class="math inline">y</span> values have the same spread
in both datasets, and that <span class="math inline">SD(x') = 4
SD(x)</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-1.2">Problem 1.2</h3>
<p>Recall, the hypothesis function <span class="math inline">H^*</span>
was fit on the transformed dataset,</p>
<p><span class="math inline">(x_1&#39;, y_1&#39;), (x_2&#39;, y_2&#39;),
..., (x_n&#39;, y_n&#39;)</span>. <span class="math inline">H^*</span>
happens to pass through the point <span class="math inline">(\bar{x},
\bar{y})</span>. What is the value of <span
class="math inline">\bar{x}</span>? Give your answer as an integer with
no variables.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading1_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1_2" aria-expanded="true" aria-controls="collapse1_2">
Click to view the solution.
</button>
</h2>
<div id="collapse1_2" class="accordion-collapse collapse"
aria-labelledby="heading1_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">5</span>.</p>
<p>The key idea is that the regression line always passes through <span class="math inline">(\text{mean } x, \text{mean } y)</span> in the
dataset we used to fit it. So, we know that: <span class="math inline">2
\bar{x'} + 7 = \bar{y'}</span>. This first equation can be
rewritten as: <span class="math inline">2 \cdot (4\bar{x} - 3) + 7 =
\bar{y} + 24</span>.</p>
<p>We’re also told this line passes through <span class="math inline">(\bar{x}, \bar{y})</span>, which means that it’s
also true that: <span class="math inline">2 \bar{x} + 7 =
\bar{y}</span>.</p>
<p>Now we have a system of two equations:</p>
<p><span class="math inline">\begin{cases}
2 \cdot (4\bar{x} - 3) + 7 = \bar{y} + 24 \\
2 \bar{x} + 7 = \bar{y}
\end{cases}</span></p>
<p><span class="math inline">\dots</span> and solving our system of two
equations gives: <span class="math display">\bar{x} = 5</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-2">Problem 2</h2>
<p><i>Source: <a href="../sp24-final/index.html">Spring 2024 Final</a>,
Problem 5</i></p>
<p>Let <span class="math inline">\vec{x} = \begin{bmatrix} x_1 \\ x_2
\end{bmatrix}</span>. Consider the function <span
class="math inline">g(\vec{x}) = (x_1 - 3)^2 + (x_1^2 -
x_2)^2</span>.</p>
<p><br></p>
<h3 id="problem-2.1">Problem 2.1</h3>
<p>Find <span class="math inline">\nabla g(\vec{x})</span>, the gradient
of <span class="math inline">g(\vec{x})</span>, and use it to show that
<span class="math inline">\nabla g\left( \begin{bmatrix} -1 \\ 1
\end{bmatrix} \right) = \begin{bmatrix} -8 \\ 0
\end{bmatrix}</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_1" aria-expanded="true" aria-controls="collapse2_1">
Click to view the solution.
</button>
</h2>
<div id="collapse2_1" class="accordion-collapse collapse"
aria-labelledby="heading2_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">\nabla g(\vec{x}) = \begin{bmatrix} 2x_1
-6 + 4x_1(4x_1^2 - x_2) \\ -2(x_1^2 - x_2) \end{bmatrix}</span></p>
<p>We can find <span class="math inline">\nabla g(\vec{x})</span> by
finding the partial derivatives of <span class="math inline">g(\vec{x})</span>:</p>
<p><span class="math display">\frac{\partial g}{\partial x_1} = 2(x_1 -
3) + 2(x_1^2 - x_2)(2 x_1)</span> <span class="math display">\frac{\partial g}{\partial x_2} = 2(x_1^2 -
x_2)(-1)</span> <span class="math display">\nabla g(\vec{x}) =
\begin{bmatrix} 2(x_1 - 3) + 2(x_1^2 - x_2)(2 x_1) \\ 2(x_1^2 - x_2)(-1)
\end{bmatrix}</span> <span class="math display">\nabla
g\left(\begin{bmatrix} - 1 \\ 1 \end{bmatrix}\right) = \begin{bmatrix}
2(-1 - 4) + 2((-1)^2 - 1)(2(-1)) \\ 2((-1)^2 - 1) \end{bmatrix} =
\begin{bmatrix} -8 \\ 0 \end{bmatrix}</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.2">Problem 2.2</h3>
<p>We’d like to find the vector <span
class="math inline">\vec{x}^*</span> that minimizes <span
class="math inline">g(\vec{x})</span> using gradient descent. Perform
one iteration of gradient descent by hand, using the initial guess <span
class="math inline">\vec{x}^{(0)} = \begin{bmatrix} -1 \\ 1
\end{bmatrix}</span> and the learning rate <span
class="math inline">\alpha = \frac{1}{2}</span>. In other words, what is
<span class="math inline">\vec{x}^{(1)}</span>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_2" aria-expanded="true" aria-controls="collapse2_2">
Click to view the solution.
</button>
</h2>
<div id="collapse2_2" class="accordion-collapse collapse"
aria-labelledby="heading2_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">\vec x^{(1)} = \begin{bmatrix} 3 \\ 1
\end{bmatrix}</span></p>
<p>Here’s the general form of gradient descent: <span class="math display">\vec x^{(1)} = \vec{x}^{(0)} - \alpha \nabla
g(\vec{x}^{(0)})</span></p>
<p>We can substitute <span class="math inline">\alpha =
\frac{1}{2}</span> and <span class="math inline">x^{(0)} =
\begin{bmatrix} -1 \\ 1 \end{bmatrix}</span> to get: <span class="math display">\vec x^{(1)} = \begin{bmatrix} -1 \\ 1
\end{bmatrix} - \frac{1}{2} \nabla g(\vec x ^{(0)})</span> <span class="math display">\vec x^{(1)} = \begin{bmatrix} -1 \\ 1
\end{bmatrix} - \frac{1}{2} \begin{bmatrix} -8 \\ 0
\end{bmatrix}</span></p>
<p><span class="math display">\vec{x}^{(1)} = \begin{bmatrix} -1 \\ 1
\end{bmatrix} - \frac{1}{2} \begin{bmatrix} -8 \\ 0 \end{bmatrix} =
\begin{bmatrix} 3 \\ 1 \end{bmatrix}</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-2.3">Problem 2.3</h3>
<p>Consider the function <span class="math inline">f(t) = (t - 3)^2 +
(t^2 - 1)^2</span>. Select the true statement below.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">f(t)</span> is convex and has a global
minimum.</p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">f(t)</span> is not convex, but has a global
minimum.</p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">f(t)</span> is convex, but doesn’t have a
global minimum.</p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">f(t)</span> is not convex and doesn’t have
a global minimum.</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading2_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2_3" aria-expanded="true" aria-controls="collapse2_3">
Click to view the solution.
</button>
</h2>
<div id="collapse2_3" class="accordion-collapse collapse"
aria-labelledby="heading2_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">f(t)</span> is not convex, but has a global
minimum.</p>
<p>It is seen that <span class="math inline">f(t)</span> isn’t convex,
which can be verified using the second derivative test: <span class="math display">f'(t) = 2(t - 3) + 2(t^2 - 1) 2t = 2t - 6 +
4t^3 - 4t = 4t^3 - 2t - 6</span> <span class="math display">f''(t) = 12t^2 - 2</span></p>
<p>Clearly, <span class="math inline">f''(t) &lt; 0</span> for
many values of <span class="math inline">t</span> (e.g. <span class="math inline">t = 0</span>), so <span class="math inline">f(t)</span> is not always convex.</p>
<p>However, <span class="math inline">f(t)</span> does have a global
minimum – its output is never less than 0. This is because it can be
expressed as the sum of two squares, <span class="math inline">(t -
3)^2</span> and <span class="math inline">(t^2 - 1)^2</span>,
respectively, both of which are greater than or equal to 0.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-3">Problem 3</h2>
<p><i>Source: <a href="../fa22-midterm/index.html">Fall 2022
Midterm</a>, Problem 3</i></p>
<p>Mahdi runs a local pastry shop near UCSD and sells traditional desert
called Baklava. He bakes Baklavas every morning to keep his promise of
providing fresh Baklavas to his customers daily. Here is the amount of
Baklava he sold each day during last week in pounds(lb): <span
class="math display">y_1=100, y_2=110, y_3=75, y_4=90, y_5=105, y_6=90,
y_7=25</span></p>
<p>Mahdi needs your help as a data scientist to suggest <u>the best
constant prediction (<span class="math inline">h^*</span>) of daily
sales that minimizes the empirical risk using <span
class="math inline">L(h,y)</span> as the loss function</u>. Answer the
following questions and give a <strong>brief justification</strong> for
each part. <strong>This problem has many parts, if you get stuck, move
on and come back later!</strong></p>
<p><br></p>
<h3 id="problem-3.1">Problem 3.1</h3>
<p>Let <span class="math inline">L(h,y)=|y-h|</span>. What is <span
class="math inline">h^*</span>? (We’ll later refer to this prediction as
<span class="math inline">h_1^*</span>).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_1" aria-expanded="true" aria-controls="collapse3_1">
Click to view the solution.
</button>
</h2>
<div id="collapse3_1" class="accordion-collapse collapse"
aria-labelledby="heading3_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>As we have seen in lectures, the median minimizes the absolute loss
risk function. <span class="math display">h^*_1=\text{Median}(y_1,
\cdots, y_7).</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.2">Problem 3.2</h3>
<p>Let <span class="math inline">L(h,y)=(y-h)^2</span>. What is <span
class="math inline">h^*</span>? (We’ll later refer to this prediction as
<span class="math inline">h_2^*</span>).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_2" aria-expanded="true" aria-controls="collapse3_2">
Click to view the solution.
</button>
</h2>
<div id="collapse3_2" class="accordion-collapse collapse"
aria-labelledby="heading3_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>As we have seen in lectures, the mean minimizes the square loss risk
function. <span class="math display">h^*_2=\text{Mean}(y_1, \cdots,
y_7).</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.3">Problem 3.3</h3>
<p><strong>True</strong> or <strong>False</strong>: Removing <span
class="math inline">y_1</span> and <span class="math inline">y_3</span>
from the dataset does not change <span
class="math inline">h_2^*</span>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_3" aria-expanded="true" aria-controls="collapse3_3">
Click to view the solution.
</button>
</h2>
<div id="collapse3_3" class="accordion-collapse collapse"
aria-labelledby="heading3_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False. It changes the mean from <span class="math inline">85</span>
to <span class="math inline">84</span>. (However, the median is not
changed.)</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.4">Problem 3.4</h3>
<p>Mahdi thinks that <span class="math inline">y_7</span> is an outlier.
Hence, he asks you to remove <span class="math inline">y_7</span> and
update your predictions in parts (a) and (b) accordingly. Without
calculating the new predictions, can you justify which prediction
changes <em>more</em>? <span class="math inline">h^*_1</span> or <span
class="math inline">h_2^*</span>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_4" aria-expanded="true" aria-controls="collapse3_4">
Click to view the solution.
</button>
</h2>
<div id="collapse3_4" class="accordion-collapse collapse"
aria-labelledby="heading3_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>Removing <span class="math inline">y_7</span> affects <span class="math inline">h_2^*</span> more than <span class="math inline">h_1^*</span>. This is because the mean squared loss
is more sensitive to outliers than absolute loss, and removing data
changes the mean more.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.5">Problem 3.5</h3>
<p><strong>True</strong> or <strong>False</strong>: Let <span
class="math inline">L(y,h)=|y-h|^3</span>. You can use the Gradient
descent algorithm to find <span class="math inline">h^*</span>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_5" aria-expanded="true" aria-controls="collapse3_5">
Click to view the solution.
</button>
</h2>
<div id="collapse3_5" class="accordion-collapse collapse"
aria-labelledby="heading3_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False. The function <span class="math inline">|y-h|^3</span> is not
differentiable everywhere so we can not use the gradient descent to find
the minimum.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.6">Problem 3.6</h3>
<p><strong>True</strong> or <strong>False</strong>: Let <span
class="math inline">L(y,h)=\sin(y-h)</span>. The Gradient descent
algorithm is guaranteed to converge, provided that a proper learning
rate is given.<br />
</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_6" aria-expanded="true" aria-controls="collapse3_6">
Click to view the solution.
</button>
</h2>
<div id="collapse3_6" class="accordion-collapse collapse"
aria-labelledby="heading3_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False. The function is not convex, so the gradient descent algorithm
is not guaranteed to converge.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.7">Problem 3.7</h3>
<p>Mahdi has noticed that Baklava daily sale is associated with weather
temperature. So he asks you to incorporate this feature to get a better
prediction. Suppose the last week’s daily temperatures are <span
class="math inline">x_1, x_2, \cdots, x_7</span> in Fahrenheit (F). We
know that <span class="math inline">\bar x=65</span>, <span
class="math inline">\sigma_x=8.5</span> and the best linear prediction
that <u>minimizes the mean squared error</u> is <span
class="math inline">H^*(x)=-3x+w_0^*</span>.</p>
<p>What is the correlation coefficient (<span
class="math inline">r</span>) between <span class="math inline">x</span>
and <span class="math inline">y</span>? What does that mean?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_7" aria-expanded="true" aria-controls="collapse3_7">
Click to view the solution.
</button>
</h2>
<div id="collapse3_7" class="accordion-collapse collapse"
aria-labelledby="heading3_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">r=-0.95</span>. This means the weather
temperature inversely affects Baklava sales, i.e., they are highly
negatively correlated.</p>
<p>We know <span class="math inline">w_1^* =
\frac{\sigma_y}{\sigma_x}r.</span> We know that <span class="math inline">\sigma_x=8.5</span> and <span class="math inline">w_1^*=-3</span>. We can find <span class="math inline">\sigma_y</span> as follows:</p>
<p><span class="math display">\begin{aligned}
    \sigma_y^2 =&amp; \frac{1}{n} \sum_{i = 1}^n (y_i - \bar{y})^2\\
    =&amp;
\frac{1}{7}[(100-85)^2+(110-85)^2+(75-85)^2+(90-85)^2+(105-85)^2+(90-85)^2+(25-85)^2]\\
    =&amp;\frac{1}{7}[15^2+25^2+10^2+5^2+20^2+5^2+60^2]=714.28
\end{aligned}</span></p>
<p>Then, <span class="math inline">\sigma_y=26.7</span> which results in
<span class="math inline">r=-0.95</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.8">Problem 3.8</h3>
<p><strong>True</strong> or <strong>False</strong>: The unit of <span
class="math inline">r</span> is <span
class="math inline">\frac{lb}{F}</span> (Pound per Fahrenheit).</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_8">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_8" aria-expanded="true" aria-controls="collapse3_8">
Click to view the solution.
</button>
</h2>
<div id="collapse3_8" class="accordion-collapse collapse"
aria-labelledby="heading3_8" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False. The correlation coefficient has no unit. (It is always a
unitless number in <span class="math inline">[-1,1]</span> range.)</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.9">Problem 3.9</h3>
<p>Find <span class="math inline">w^*_0</span>. <em>(Hint: You’ll need
to find <span class="math inline">\bar y</span> for the given
dataset)</em></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_9">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_9" aria-expanded="true" aria-controls="collapse3_9">
Click to view the solution.
</button>
</h2>
<div id="collapse3_9" class="accordion-collapse collapse"
aria-labelledby="heading3_9" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">w_0^*=280</span></p>
<p>Note that <span class="math inline">H(\bar x)=\bar y</span>.
Therefore, <span class="math display">\begin{aligned}
        H(65)=-3\cdot 65 +w_0^*=85 \xrightarrow[]{}w_0^*=280.
\end{aligned}</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.10">Problem 3.10</h3>
<p>What would the best linear prediction <span
class="math inline">H^*(x)</span> be if we multiply all <span
class="math inline">x_i</span>’s by <span
class="math inline">2</span>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_10">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_10" aria-expanded="true" aria-controls="collapse3_10">
Click to view the solution.
</button>
</h2>
<div id="collapse3_10" class="accordion-collapse collapse"
aria-labelledby="heading3_10" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">H^*(x) = -1.5x + 280</span></p>
<p>The standard deviation scales by a factor of <span class="math inline">2</span>, i.e., <span class="math inline">\sigma_x'=2\cdot \sigma_x</span>.<br/> The same
is true for the mean, i.e., <span class="math inline">\bar{x}'=2
\cdot \bar{x}.</span> <br/> The correlation <span class="math inline">r</span>, standard deviation of the y-values <span class="math inline">\sigma_y</span>, and the mean of the y-values <span class="math inline">\bar y</span> do not change. <br/> (You can verify
these claims by plugging <span class="math inline">2x</span> in for
<span class="math inline">x</span> in their respective formulas and
seeing what happens, but it’s faster to <em>visually</em> reason why
this happens.)</p>
<p>Therefore, <span class="math inline">w_1'^*=\frac{\sigma_y'}{\sigma_x'}r'
= \frac{(\sigma_y)}{(2\cdot\sigma_x)}(r) = \frac{w_1^*}{2} =
-1.5</span>.</p>
<p>We can find <span class="math inline">w_0'^*</span> as
follows:</p>
<p><span class="math display">\begin{align*}
\bar{y}'&amp;=H(\bar{x}')\\&amp;=\frac{w_1^*}{2}(2\bar{x})+w_0'^*\\&amp;=w_1^*\bar{x}+w_0'^*
\\
&amp;\downarrow \\
(85) &amp;= -3(65) + w_0'^* \\
w_0'^*&amp;=280
\end{align*}</span></p>
<p>So, <span class="math inline">H^*(x)</span> would be <span class="math inline">-1.5x + 280</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-3.11">Problem 3.11</h3>
<p>What would the best linear prediction <span
class="math inline">H^*(x)</span> be if we add <span
class="math inline">20</span> to all <span
class="math inline">x_i</span>’s?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading3_11">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3_11" aria-expanded="true" aria-controls="collapse3_11">
Click to view the solution.
</button>
</h2>
<div id="collapse3_11" class="accordion-collapse collapse"
aria-labelledby="heading3_11" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">H^*(x) = -3x + 340</span></p>
<p>All parameters remain unchanged except <span class="math inline">\bar{x}'=\bar{x}+20.</span> Since <span class="math inline">r</span>, <span class="math inline">\sigma_x</span>
and <span class="math inline">\sigma_y</span> are not changed, <span class="math inline">w_1^*</span> does not change. Then, one can find
<span class="math inline">w_0^*</span> as follows:</p>
<p><span class="math display">\begin{align*}
\bar{y}'&amp;=H(\bar{x}') \\
&amp;\downarrow \\
(85) &amp;=-3(65+20)+w_0^* \\
w_0^*&amp;=340
\end{align*}</span></p>
<p>So, <span class="math inline">H^*(x)</span> would be <span class="math inline">-3x + 340</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-4">Problem 4</h2>
<p><i>Source: <a href="../fa21-final/index.html">Fall 2021 Final
Exam</a>, Problem 5</i></p>
<p>Suppose we have a dataset of <span class="math inline">n</span>
houses that were recently sold in the San Diego area. For each house, we
have its square footage and most recent sale price. The correlation
between square footage and price is <span
class="math inline">r</span>.</p>
<p><br></p>
<h3 id="problem-4.1">Problem 4.1</h3>
<p>First, we minimize mean squared error to fit a linear prediction rule
that uses square footage to predict price. The resulting prediction rule
has an intercept of <span class="math inline">w_0^*</span> and slope of
<span class="math inline">w_1^*</span>. In other words,</p>
<p><span class="math display">\text{predicted price} = w_0^* + w_1^*
\cdot \text{square footage}</span></p>
<p>We’re now interested in minimizing mean squared error to fit a linear
prediction rule <strong>that uses price to predict square
footage</strong>. Suppose this new regression line has an intercept of
<span class="math inline">\beta_0^*</span> and slope of <span
class="math inline">\beta_1^*</span>.</p>
<p>What is <span class="math inline">\beta_1^*</span>? Give your answer
in terms of one or more of <span class="math inline">n</span>, <span
class="math inline">r</span>, <span class="math inline">w_0^*</span>,
and <span class="math inline">w_1^*</span>. Show your work.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_1" aria-expanded="true" aria-controls="collapse4_1">
Click to view the solution.
</button>
</h2>
<div id="collapse4_1" class="accordion-collapse collapse"
aria-labelledby="heading4_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">\beta_1^* = \frac{r^2}{w_1^*}</span></p>
<p>Throughout this solution, let <span class="math inline">x</span>
represent square footage and <span class="math inline">y</span>
represent price.</p>
<p>We know that <span class="math inline">w_1^* = r
\frac{\sigma_y}{\sigma_x}</span>. But what about <span class="math inline">\beta_1^*</span>?</p>
<p>When we take a rule that predicts price from square footage and
transform it into a rule that predicts square footage from price, the
roles of <span class="math inline">x</span> and <span class="math inline">y</span> have swapped; suddenly, square footage is
no longer our independent variable, but our dependent variable, and vice
versa for price. This means that the altered dataset we work with when
using our new prediction rule has <span class="math inline">\sigma_x</span> standard deviation for its dependent
variable (square footage), and <span class="math inline">\sigma_y</span>
for its independent variable (price). So, we can write the formula for
<span class="math inline">\beta_1^*</span> as follows: <span class="math display">\beta_1^* = r \frac{\sigma_x}{\sigma_y}</span></p>
<p>In essence, swapping the independent and dependent variables of a
dataset changes the slope of the regression line from <span class="math inline">r \frac{\sigma_y}{\sigma_x}</span> to <span class="math inline">r \frac{\sigma_x}{\sigma_y}</span>.</p>
<p>From here, we can use a little algebra to get our <span class="math inline">\beta_1^*</span> in terms of one or more <span class="math inline">n</span>, <span class="math inline">r</span>, <span class="math inline">w_0^*</span>, and <span class="math inline">w_1^*</span>:</p>
<p><span class="math display">\begin{align*}
\beta_1^* &amp;= r \frac{\sigma_x}{\sigma_y} \\
w_1^* \cdot \beta_1^* &amp;= w_1^* \cdot r \frac{\sigma_x}{\sigma_y} \\
w_1^* \cdot \beta_1^* &amp;= ( r \frac{\sigma_y}{\sigma_x}) \cdot r
\frac{\sigma_x}{\sigma_y}
\end{align*}</span></p>
<p>The fractions <span class="math inline">\frac{\sigma_y}{\sigma_x}</span> and <span class="math inline">\frac{\sigma_x}{\sigma_y}</span> cancel out and we
get:</p>
<p><span class="math display">\begin{align*}
w_1^* \cdot \beta_1^* &amp;= r^2 \\
\beta_1^* &amp;= \frac{r^2}{w_1^*}
\end{align*}</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-4.2">Problem 4.2</h3>
<p><strong>For this part only</strong>, assume that the following
quantities hold:</p>
<ul>
<li><span class="math inline">n = 100</span></li>
<li><span class="math inline">r = 0.6</span></li>
<li><span class="math inline">w_0^* = 1000</span></li>
<li><span class="math inline">w_1^* = 250</span></li>
<li>The average square footage of homes in the dataset is 2000</li>
</ul>
<p>Given this information, what is <span
class="math inline">\beta_0^*</span>? Give your answer as a constant,
rounded to two decimal places. Show your work.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading4_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4_2" aria-expanded="true" aria-controls="collapse4_2">
Click to view the solution.
</button>
</h2>
<div id="collapse4_2" class="accordion-collapse collapse"
aria-labelledby="heading4_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">\beta_0^* = 1278.56</span></p>
<p>We start with the formula for the intercept of the regression line.
Note that <span class="math inline">x</span> and <span class="math inline">y</span> are opposite what they’d normally be since
we’re using price to predict square footage.</p>
<p><span class="math display">\beta_0^* = \bar{x} - \beta_1^*
\bar{y}</span></p>
<p>We’re told that the average square footage of homes in the dataset is
2000, so <span class="math inline">\bar{x} = 2000</span>. We also know
from part (a) that <span class="math inline">\beta_1^* =
\frac{r^2}{w_1^*}</span>, and from the information given in this part
this is <span class="math inline">\beta_1^* = \frac{r^2}{w_1^*} =
\frac{0.6^2}{250}</span>.</p>
<p>Finally, we need the average price of all homes in the dataset, <span class="math inline">\bar{y}</span>. We aren’t given this information
directly, but we can use the fact that <span class="math inline">(\bar{x}, \bar{y})</span> are on the regression line
that uses square footage to predict price to find <span class="math inline">\bar{y}</span>. Specifically, we have that <span class="math inline">\bar{y} = w_0^* + w_1^* \bar{x}</span>; we know that
<span class="math inline">w_0^* = 1000</span>, <span class="math inline">\bar{x} = 2000</span>, and <span class="math inline">w_1^* = 250</span>, so <span class="math inline">\bar{y} = 1000 + 2000 \cdot 250 = 501000</span>.</p>
<p>Putting these pieces together, we have</p>
<p><span class="math display">
\begin{align*}
\beta_0^* &amp;= \bar{x} - \beta_1^* \bar{y} \\
&amp;= 2000 - \frac{0.6^2}{250} \cdot 501000 \\
&amp;= 2000 - 0.6^2 \cdot 2004 \\
&amp;= 1278.56
\end{align*}
</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-5">Problem 5</h2>
<p><i>Source: <a href="../fa21-midterm/index.html">Fall 2021
Midterm</a>, Problem 4</i></p>
<p>Billy, the avocado farmer from Homework 3, wasn’t making enough money
growing avocados and decided to take on a part-time job as a waiter at
the restaurant Dirty Birds on campus. For two months, he kept track of
all of the total bills he gave out to customers along with the tips they
then gave him, all in dollars. Below is a scatter plot of Billy’s tips
and total bills.</p>
<!-- TODO -->
<center><img src="../assets/images/fa21-midterm/dirtybirds.png" width="600" height="330"></center>
<p>Throughout this question, assume we are trying to fit a linear
prediction rule <span class="math inline">H(x) = w_0 + w_1x</span> that
uses total bills to predict tips, and assume we are finding optimal
parameters by minimizing mean squared error.</p>
<p><br></p>
<h3 id="problem-5.1">Problem 5.1</h3>
<p>Which of these is the most likely value for <span
class="math inline">r</span>, the correlation between total bill and
tips? Why?</p>
<div class="center">
<p><span class="math display">-1 \qquad -0.75 \qquad -0.25 \qquad 0
\qquad 0.25 \qquad 0.75 \qquad 1</span></p>
</div>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_1" aria-expanded="true" aria-controls="collapse5_1">
Click to view the solution.
</button>
</h2>
<div id="collapse5_1" class="accordion-collapse collapse"
aria-labelledby="heading5_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>0.75.</p>
<p>It seems like there is a pretty strong, but not perfect, linear
association between total bills and tips.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.2">Problem 5.2</h3>
<p>The variance of the tip amounts is 2.1. Let <span
class="math inline">M</span> be the mean squared error of the best
linear prediction rule on this dataset (under squared loss). Is <span
class="math inline">M</span> less than, equal to, or greater than 2.1?
How can you tell?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_2" aria-expanded="true" aria-controls="collapse5_2">
Click to view the solution.
</button>
</h2>
<div id="collapse5_2" class="accordion-collapse collapse"
aria-labelledby="heading5_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">M</span> is less than 2.1. The variance is
equal to the MSE of the constant prediction rule.</p>
<p>Note that the MSE of the best linear prediction rule will always be
less than or equal to the MSE of the best constant prediction rule <span class="math inline">h</span>. The only case in which these two MSEs are
the same is when the best linear prediction rule is a flat line with
slope 0, which is the same as a constant prediction. In all other cases,
the linear prediction rule will make better predictions and hence have a
lower MSE than the constant prediction rule.</p>
<p>In this case, the best linear prediction rule is clearly not flat, so
<span class="math inline">M &lt; 2.1</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-5.3">Problem 5.3</h3>
<p>Suppose we use the formulas from class on Billy’s dataset and
calculate the optimal slope <span class="math inline">w_1^*</span> and
intercept <span class="math inline">w_0^*</span> for this prediction
rule.</p>
<p>Suppose we add the value of 1 to every total bill <span
class="math inline">x</span>, effectively shifting the scatter plot 1
unit to the right. <strong>Note that doing this does not change the
value of <span class="math inline">w_1^*</span>.</strong> What amount
should we add to each tip <span class="math inline">y</span> so that the
value of <span class="math inline">w_0^*</span> also does not change?
Your answer should involve one or more of <span
class="math inline">\bar{x}, \bar{y}, w_0^*, w_1^*,</span> and any
constants.</p>
<p><em>Note: To receive full points, you must provide a rigorous
explanation, though this explanation only takes a few lines. However, we
will award partial credit to solutions with the correct answer, and it’s
possible to arrive at the correct answer by drawing a picture and
thinking intuitively about what happens.</em></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading5_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5_3" aria-expanded="true" aria-controls="collapse5_3">
Click to view the solution.
</button>
</h2>
<div id="collapse5_3" class="accordion-collapse collapse"
aria-labelledby="heading5_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>We should add <span class="math inline">w_1^*</span> to each tip
<span class="math inline">y</span>.</p>
<p>First, we present the rigorous solution.</p>
<p>Let <span class="math inline">\bar{x}_\text{old}</span> represent the
previous mean of the <span class="math inline">x</span>’s and <span class="math inline">\bar{x}_\text{new}</span> represent the new mean of
the <span class="math inline">x</span>’s. Then, we know that <span class="math inline">\bar{x}_\text{new} = \bar{x}_\text{old} +
1</span>.</p>
<p>Also, let <span class="math inline">\bar{y}_\text{old}</span> and
<span class="math inline">\bar{y}_\text{new}</span> represent the old
and new mean of the <span class="math inline">y</span>’s. We will try
and find a relationship between these two quantities.</p>
<p>We want the two intercepts to be the same. The intercept for the old
line is <span class="math inline">\bar{y}_\text{old} - w_1^*
\bar{x}_\text{old}</span> and the intercept for the new line is <span class="math inline">\bar{y}_\text{new} - w_1^*
\bar{x}_\text{new}</span>. Setting these equal yields</p>
<p><span class="math display">\begin{aligned}
    \bar{y}_\text{new} - w_1^* \bar{x}_\text{new} &amp;=
\bar{y}_\text{old} - w_1^* \bar{x}_\text{old} \\
     \bar{y}_\text{new} - w_1^* (\bar{x}_\text{old} + 1) &amp;=
\bar{y}_\text{old} - w_1^* \bar{x}_\text{old} \\
     \bar{y}_\text{new} &amp;= \bar{y}_\text{old} - w_1^*
\bar{x}_\text{old} + w_1^* (\bar{x}_\text{old} + 1) \\
     \bar{y}_{\text{new}} &amp;= \bar{y}_\text{old} + w_1^*
\end{aligned}</span></p>
<p>Thus, in order for the intercepts to be equal, we need the mean of
the new <span class="math inline">y</span>’s to be <span class="math inline">w_1^*</span> greater than the mean of the old <span class="math inline">y</span>’s. Since we’re told we’re adding the same
constant to each <span class="math inline">y</span> that constant is
<span class="math inline">w_1^*</span>.</p>
<p>Another way to approach the question is as follows: consider any
point that lies directly on a line with slope <span class="math inline">w_1^*</span> and intercept <span class="math inline">w_0^*</span>. Consider how the slope between two
points on a line is calculated: <span class="math inline">\text{slope} =
\frac{y_2 - y_1}{x_2 - x_1}</span>. If <span class="math inline">x_2 -
x_1 = 1</span>, in order for the slope to remain fixed we must have that
<span class="math inline">y_2 - y_1 = \text{slope}</span>. For a
concrete example, think of the line <span class="math inline">y = 5x +
2</span>. The point <span class="math inline">(1, 7)</span> is on the
line, as is the point <span class="math inline">(1 + 1, 7 + 5) = (2,
12)</span>.</p>
<p>In our case, none of our points are guaranteed to be
<strong>on</strong> the line defined by slope <span class="math inline">w_1^*</span> and intercept <span class="math inline">w_0^*</span>. Instead, we just want to be guaranteed
that the points have the same regression line after being shifted. If we
follow the same principle, though, and add 1 to every <span class="math inline">x</span> and <span class="math inline">w_1^*</span>
to every <span class="math inline">y</span>, the points’ relative
positions to the line will not change (i.e. the vertical distance from
each point to the line will not change), and so that will remain the
line with the lowest MSE, and hence <span class="math inline">w_0^*</span> and <span class="math inline">w_1^*</span> won’t change.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-6">Problem 6</h2>
<p><i>Source: <a href="../fa22-midterm/index.html">Fall 2022
Midterm</a>, Problem 2</i></p>
<p>Calculate <span class="math inline">w_1^*</span> and <span
class="math inline">w_0^*</span> of the linear regression line for the
following dataset, <span class="math inline">\mathcal{D}</span>. You may
use the fill-in-the-blanks and the table below to organize your
work.</p>
<p><span class="math inline">\mathcal{D} = \{(0, 0), (4, 2), (5,
1)\}</span>.</p>
<p><span class="math inline">\bar x = \phantom{\hspace{.5in}}</span>
<span class="math inline">\bar y = \phantom{\hspace{.5in}}</span></p>
<div style="text-align:center; border-width:10px; border-color:black">
<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 31%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th><span class="math inline">x_i</span></th>
<th><span class="math inline">y_i</span></th>
<th><span class="math inline">(x_i - \bar x)</span></th>
<th><span class="math inline">(y_i - \bar y)</span></th>
<th><span class="math inline">(x_i - \bar x)(y_i - \bar y)</span></th>
<th><span class="math inline">(x_i - \bar x)^2</span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="math inline">0</span></td>
<td><span class="math inline">0</span></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><span class="math inline">4</span></td>
<td><span class="math inline">2</span></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><span class="math inline">5</span></td>
<td><span class="math inline">1</span></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><!-- \begin{center}
    \begin{tabular}{llllll}\toprule
        $x_i$ & $y_i$ & $(x_i - \bar x)$ & $(y_i - \bar y)$ & $(x_i - \bar x)(y_i - \bar y)$ & $(x_i - \bar x)^2$
        \\\midrule
        0 & 0 & -3 & -1 & 3 & 9 \\
        4 & 2 & 1 & 1 & 1 & 1 \\
        5 & 1 & 2 & 0 & 0 & 4 \\
        \bottomrule
    \end{tabular} \\
\end{center}  --></p>
<!-- <table style="border-collapse: collapse; border: 2px solid black; width: 100%;">
  <thead>
    <tr>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$x_i$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$y_i$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(x_i - \bar{x})$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(y_i - \bar{y})$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(x_i - \bar{x})(y_i - \bar{y})$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(x_i - \bar{x})^2$</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">0</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">0</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
    </tr>
    <tr>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">4</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">2</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
    </tr>
    <tr>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">5</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">1</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;"></td>
    </tr>
  </tbody>
</table> -->
<!-- Come back to this later, table formatting -->
<p><span class="math inline">w_1^* =</span><br />
<span class="math inline">w_0^* =</span></p>
<p>Finally, what can we say about the correlation <span
class="math inline">r</span> and the slope for this dataset
(mathematically)?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse6" aria-expanded="true" aria-controls="collapse6">
Click to view the solution.
</button>
</h2>
<div id="collapse6" class="accordion-collapse collapse"
aria-labelledby="heading6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">\bar{x} = \frac{1}{3}(0 + 4 + 5) = 3</span>
<span class="math inline">\quad \quad\bar{y} = \frac{1}{3}(0 + 2 + 1) =
1</span><br/>
<br/></p>
<div style="text-align:center; border-width:10px; border-color:black">
<table>
<colgroup>
<col style="width: 6%"/>
<col style="width: 6%"/>
<col style="width: 17%"/>
<col style="width: 17%"/>
<col style="width: 31%"/>
<col style="width: 19%"/>
</colgroup>
<thead>
<tr>
<th><span class="math inline">x_i</span></th>
<th><span class="math inline">y_i</span></th>
<th><span class="math inline">(x_i - \bar x)</span></th>
<th><span class="math inline">(y_i - \bar y)</span></th>
<th><span class="math inline">(x_i - \bar x)(y_i - \bar y)</span></th>
<th><span class="math inline">(x_i - \bar x)^2</span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="math inline">0</span></td>
<td><span class="math inline">0</span></td>
<td><span class="math inline">-3</span></td>
<td><span class="math inline">-1</span></td>
<td><span class="math inline">3</span></td>
<td><span class="math inline">9</span></td>
</tr>
<tr>
<td><span class="math inline">4</span></td>
<td><span class="math inline">2</span></td>
<td><span class="math inline">1</span></td>
<td><span class="math inline">1</span></td>
<td><span class="math inline">1</span></td>
<td><span class="math inline">1</span></td>
</tr>
<tr>
<td><span class="math inline">5</span></td>
<td><span class="math inline">1</span></td>
<td><span class="math inline">2</span></td>
<td><span class="math inline">0</span></td>
<td><span class="math inline">0</span></td>
<td><span class="math inline">4</span></td>
</tr>
</tbody>
</table>
</div>
<!-- \begin{center}
    \begin{tabular}{llllll}\toprule
        $x_i$ & $y_i$ & $(x_i - \bar x)$ & $(y_i - \bar y)$ & $(x_i - \bar x)(y_i - \bar y)$ & $(x_i - \bar x)^2$
        \\\midrule
        0 & 0 & -3 & -1 & 3 & 9 \\
        4 & 2 & 1 & 1 & 1 & 1 \\
        5 & 1 & 2 & 0 & 0 & 4 \\
        \bottomrule
    \end{tabular} \\
\end{center}  -->
<!-- <table style="border-collapse: collapse; border: 2px solid black; width: 100%;">
  <thead>
    <tr>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$x_i$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$y_i$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(x_i - \bar{x})$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(y_i - \bar{y})$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(x_i - \bar{x})(y_i - \bar{y})$</th>
      <th style="border: 1px solid black; background-color: #f2f2f2; padding: 8px; text-align: left;">$(x_i - \bar{x})^2$</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">0</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">0</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">-3</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">-1</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">3</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">9</td>
    </tr>
    <tr>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">4</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">2</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">1</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">1</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">1</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">1</td>
    </tr>
    <tr>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">5</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">1</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">2</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">0</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">0</td>
      <td style="border: 1px solid black; padding: 8px; text-align: left;">4</td>
    </tr>
  </tbody>
</table> -->
<p><br/></p>
<p><span class="math inline">w_1^* = \displaystyle
\frac{\sum_{i=1}^n (x_i - \bar{x})(y_i - \bar{y})}{\sum_{i=1}^n (x_i -
\bar{x})^2}
= \frac{3 + 1 + 0}{9 + 1 + 4} = \frac{4}{14} = \frac{2}{7}</span><br>
</br></p>
<p><span class="math inline">w_0^* = \bar{y} - w_1^* \bar{x} = 1 -
\frac{2}{7} \cdot 3 = 1 - \frac{6}{7} = \frac{1}{7}</span></p>
<p>Because <span class="math inline">w_1^* = r
\frac{\sigma_y}{\sigma_x}</span> where the standard deviations <span class="math inline">\sigma_y</span> and <span class="math inline">\sigma_x</span> are non-negative, and <span class="math inline">w_1^* = 2/7 &gt; 0</span>, <strong>the correlation
<span class="math inline">r</span> is positive and the slope is
positive</strong>.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-7">Problem 7</h2>
<p><i>Source: <a href="../fa22-midterm/index.html">Fall 2022
Midterm</a>, Problem 3</i></p>
<p>Mahdi runs a local pastry shop near UCSD and sells traditional desert
called Baklava. He bakes Baklavas every morning to keep his promise of
providing fresh Baklavas to his customers daily. Here is the amount of
Baklava he sold each day during last week in pounds(lb): <span
class="math display">y_1=100, y_2=110, y_3=75, y_4=90, y_5=105, y_6=90,
y_7=25</span></p>
<p>Mahdi needs your help as a data scientist to suggest <u>the best
constant prediction (<span class="math inline">h^*</span>) of daily
sales that minimizes the empirical risk using <span
class="math inline">L(h,y)</span> as the loss function</u>. Answer the
following questions and give a <strong>brief justification</strong> for
each part. <strong>This problem has many parts, if you get stuck, move
on and come back later!</strong></p>
<p><br></p>
<h3 id="problem-7.1">Problem 7.1</h3>
<p>Let <span class="math inline">L(h,y)=|y-h|</span>. What is <span
class="math inline">h^*</span>? (We’ll later refer to this prediction as
<span class="math inline">h_1^*</span>).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_1" aria-expanded="true" aria-controls="collapse7_1">
Click to view the solution.
</button>
</h2>
<div id="collapse7_1" class="accordion-collapse collapse"
aria-labelledby="heading7_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>As we have seen in lectures, the median minimizes the absolute loss
risk function. <span class="math display">h^*_1=\text{Median}(y_1,
\cdots, y_7).</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.2">Problem 7.2</h3>
<p>Let <span class="math inline">L(h,y)=(y-h)^2</span>. What is <span
class="math inline">h^*</span>? (We’ll later refer to this prediction as
<span class="math inline">h_2^*</span>).</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_2" aria-expanded="true" aria-controls="collapse7_2">
Click to view the solution.
</button>
</h2>
<div id="collapse7_2" class="accordion-collapse collapse"
aria-labelledby="heading7_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>As we have seen in lectures, the mean minimizes the square loss risk
function. <span class="math display">h^*_2=\text{Mean}(y_1, \cdots,
y_7).</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.3">Problem 7.3</h3>
<p><strong>True</strong> or <strong>False</strong>: Removing <span
class="math inline">y_1</span> and <span class="math inline">y_3</span>
from the dataset does not change <span
class="math inline">h_2^*</span>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_3" aria-expanded="true" aria-controls="collapse7_3">
Click to view the solution.
</button>
</h2>
<div id="collapse7_3" class="accordion-collapse collapse"
aria-labelledby="heading7_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False. It changes the mean from <span class="math inline">85</span>
to <span class="math inline">84</span>. (However, the median is not
changed.)</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.4">Problem 7.4</h3>
<p>Mahdi thinks that <span class="math inline">y_7</span> is an outlier.
Hence, he asks you to remove <span class="math inline">y_7</span> and
update your predictions in parts (a) and (b) accordingly. Without
calculating the new predictions, can you justify which prediction
changes <em>more</em>? <span class="math inline">h^*_1</span> or <span
class="math inline">h_2^*</span>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_4" aria-expanded="true" aria-controls="collapse7_4">
Click to view the solution.
</button>
</h2>
<div id="collapse7_4" class="accordion-collapse collapse"
aria-labelledby="heading7_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>Removing <span class="math inline">y_7</span> affects <span class="math inline">h_2^*</span> more than <span class="math inline">h_1^*</span>. This is because the mean squared loss
is more sensitive to outliers than absolute loss, and removing data
changes the mean more.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.5">Problem 7.5</h3>
<p><strong>True</strong> or <strong>False</strong>: Let <span
class="math inline">L(y,h)=|y-h|^3</span>. You can use the Gradient
descent algorithm to find <span class="math inline">h^*</span>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_5">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_5" aria-expanded="true" aria-controls="collapse7_5">
Click to view the solution.
</button>
</h2>
<div id="collapse7_5" class="accordion-collapse collapse"
aria-labelledby="heading7_5" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False. The function <span class="math inline">|y-h|^3</span> is not
differentiable everywhere so we can not use the gradient descent to find
the minimum.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.6">Problem 7.6</h3>
<p><strong>True</strong> or <strong>False</strong>: Let <span
class="math inline">L(y,h)=\sin(y-h)</span>. The Gradient descent
algorithm is guaranteed to converge, provided that a proper learning
rate is given.<br />
</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_6">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_6" aria-expanded="true" aria-controls="collapse7_6">
Click to view the solution.
</button>
</h2>
<div id="collapse7_6" class="accordion-collapse collapse"
aria-labelledby="heading7_6" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False. The function is not convex, so the gradient descent algorithm
is not guaranteed to converge.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.7">Problem 7.7</h3>
<p>Mahdi has noticed that Baklava daily sale is associated with weather
temperature. So he asks you to incorporate this feature to get a better
prediction. Suppose the last week’s daily temperatures are <span
class="math inline">x_1, x_2, \cdots, x_7</span> in Fahrenheit (F). We
know that <span class="math inline">\bar x=65</span>, <span
class="math inline">\sigma_x=8.5</span> and the best linear prediction
that <u>minimizes the mean squared error</u> is <span
class="math inline">H^*(x)=-3x+w_0^*</span>.</p>
<p>What is the correlation coefficient (<span
class="math inline">r</span>) between <span class="math inline">x</span>
and <span class="math inline">y</span>? What does that mean?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_7">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_7" aria-expanded="true" aria-controls="collapse7_7">
Click to view the solution.
</button>
</h2>
<div id="collapse7_7" class="accordion-collapse collapse"
aria-labelledby="heading7_7" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">r=-0.95</span>. This means the weather
temperature inversely affects Baklava sales, i.e., they are highly
negatively correlated.</p>
<p>We know <span class="math inline">w_1^* =
\frac{\sigma_y}{\sigma_x}r.</span> We know that <span class="math inline">\sigma_x=8.5</span> and <span class="math inline">w_1^*=-3</span>. We can find <span class="math inline">\sigma_y</span> as follows:</p>
<p><span class="math display">\begin{aligned}
    \sigma_y^2 =&amp; \frac{1}{n} \sum_{i = 1}^n (y_i - \bar{y})^2\\
    =&amp;
\frac{1}{7}[(100-85)^2+(110-85)^2+(75-85)^2+(90-85)^2+(105-85)^2+(90-85)^2+(25-85)^2]\\
    =&amp;\frac{1}{7}[15^2+25^2+10^2+5^2+20^2+5^2+60^2]=714.28
\end{aligned}</span></p>
<p>Then, <span class="math inline">\sigma_y=26.7</span> which results in
<span class="math inline">r=-0.95</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.8">Problem 7.8</h3>
<p><strong>True</strong> or <strong>False</strong>: The unit of <span
class="math inline">r</span> is <span
class="math inline">\frac{lb}{F}</span> (Pound per Fahrenheit).</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_8">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_8" aria-expanded="true" aria-controls="collapse7_8">
Click to view the solution.
</button>
</h2>
<div id="collapse7_8" class="accordion-collapse collapse"
aria-labelledby="heading7_8" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False. The correlation coefficient has no unit. (It is always a
unitless number in <span class="math inline">[-1,1]</span> range.)</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.9">Problem 7.9</h3>
<p>Find <span class="math inline">w^*_0</span>. <em>(Hint: You’ll need
to find <span class="math inline">\bar y</span> for the given
dataset)</em></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_9">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_9" aria-expanded="true" aria-controls="collapse7_9">
Click to view the solution.
</button>
</h2>
<div id="collapse7_9" class="accordion-collapse collapse"
aria-labelledby="heading7_9" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">w_0^*=280</span></p>
<p>Note that <span class="math inline">H(\bar x)=\bar y</span>.
Therefore, <span class="math display">\begin{aligned}
        H(65)=-3\cdot 65 +w_0^*=85 \xrightarrow[]{}w_0^*=280.
\end{aligned}</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.10">Problem 7.10</h3>
<p>What would the best linear prediction <span
class="math inline">H^*(x)</span> be if we multiply all <span
class="math inline">x_i</span>’s by <span
class="math inline">2</span>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_10">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_10" aria-expanded="true" aria-controls="collapse7_10">
Click to view the solution.
</button>
</h2>
<div id="collapse7_10" class="accordion-collapse collapse"
aria-labelledby="heading7_10" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">H^*(x) = -1.5x + 280</span></p>
<p>The standard deviation scales by a factor of <span class="math inline">2</span>, i.e., <span class="math inline">\sigma_x'=2\cdot \sigma_x</span>.<br/> The same
is true for the mean, i.e., <span class="math inline">\bar{x}'=2
\cdot \bar{x}.</span> <br/> The correlation <span class="math inline">r</span>, standard deviation of the y-values <span class="math inline">\sigma_y</span>, and the mean of the y-values <span class="math inline">\bar y</span> do not change. <br/> (You can verify
these claims by plugging <span class="math inline">2x</span> in for
<span class="math inline">x</span> in their respective formulas and
seeing what happens, but it’s faster to <em>visually</em> reason why
this happens.)</p>
<p>Therefore, <span class="math inline">w_1'^*=\frac{\sigma_y'}{\sigma_x'}r'
= \frac{(\sigma_y)}{(2\cdot\sigma_x)}(r) = \frac{w_1^*}{2} =
-1.5</span>.</p>
<p>We can find <span class="math inline">w_0'^*</span> as
follows:</p>
<p><span class="math display">\begin{align*}
\bar{y}'&amp;=H(\bar{x}')\\&amp;=\frac{w_1^*}{2}(2\bar{x})+w_0'^*\\&amp;=w_1^*\bar{x}+w_0'^*
\\
&amp;\downarrow \\
(85) &amp;= -3(65) + w_0'^* \\
w_0'^*&amp;=280
\end{align*}</span></p>
<p>So, <span class="math inline">H^*(x)</span> would be <span class="math inline">-1.5x + 280</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-7.11">Problem 7.11</h3>
<p>What would the best linear prediction <span
class="math inline">H^*(x)</span> be if we add <span
class="math inline">20</span> to all <span
class="math inline">x_i</span>’s?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading7_11">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse7_11" aria-expanded="true" aria-controls="collapse7_11">
Click to view the solution.
</button>
</h2>
<div id="collapse7_11" class="accordion-collapse collapse"
aria-labelledby="heading7_11" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">H^*(x) = -3x + 340</span></p>
<p>All parameters remain unchanged except <span class="math inline">\bar{x}'=\bar{x}+20.</span> Since <span class="math inline">r</span>, <span class="math inline">\sigma_x</span>
and <span class="math inline">\sigma_y</span> are not changed, <span class="math inline">w_1^*</span> does not change. Then, one can find
<span class="math inline">w_0^*</span> as follows:</p>
<p><span class="math display">\begin{align*}
\bar{y}'&amp;=H(\bar{x}') \\
&amp;\downarrow \\
(85) &amp;=-3(65+20)+w_0^* \\
w_0^*&amp;=340
\end{align*}</span></p>
<p>So, <span class="math inline">H^*(x)</span> would be <span class="math inline">-3x + 340</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-8">Problem 8</h2>
<p><i>Source: <a href="../sp23-midterm1/index.html">Spring 2023 Midterm
1</a>, Problem 4</i></p>
<p>Suppose we are given a dataset of points <span
class="math inline">\{(x_1, y_1), (x_2, y_2), \dots, (x_n, y_n)\}</span>
and for some reason, we want to make predictions using a prediction rule
of the form <span class="math display">H(x) = 17 + w_1x.</span></p>
<p><br></p>
<h3 id="problem-8.1">Problem 8.1</h3>
<p>Write down an expression for the mean squared error of a prediction
rule of this form, as a function of the parameter <span
class="math inline">w_1</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_1" aria-expanded="true" aria-controls="collapse8_1">
Click to view the solution.
</button>
</h2>
<div id="collapse8_1" class="accordion-collapse collapse"
aria-labelledby="heading8_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">MSE(w_1) = \dfrac1n
\displaystyle\sum_{i=1}^n (y_i - (17 + w_1x_i))^2</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-8.2">Problem 8.2</h3>
<p>Minimize the function <span class="math inline">MSE(w_1)</span> to
find the parameter <span class="math inline">w_1^*</span> which defines
the optimal prediction rule <span class="math inline">H^*(x) = 17 +
w_1^*x</span>. Show all your work and explain your steps.</p>
<p>Fill in your final answer below:</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_2" aria-expanded="true" aria-controls="collapse8_2">
Click to view the solution.
</button>
</h2>
<div id="collapse8_2" class="accordion-collapse collapse"
aria-labelledby="heading8_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">w_1^* = \dfrac{\displaystyle\sum_{i=1}^n
x_i(y_i - 17)}{\displaystyle\sum_{i=1}^n x_i^2}</span></p>
<p>To minimize a function of one variable, we need to take the
derivative, set it equal to zero, and solve. <span class="math display">\begin{aligned} MSE(w_1) &amp;= \dfrac1n
\displaystyle\sum_{i=1}^n (y_i - 17 - w_1x_i)^2 \\ MSE'(w_1) &amp;=
\dfrac1n \displaystyle\sum_{i=1}^n -2x_i(y_i - 17 - w_1x_i)) \qquad
\text{using the chain rule} \\ 0 &amp;= \dfrac1n
\displaystyle\sum_{i=1}^n -2x_i(y_i - 17) + \dfrac1n
\displaystyle\sum_{i=1}^n 2x_i^2w_1 \qquad \text{splitting up the sum}
\\ 0 &amp;=  \displaystyle\sum_{i=1}^n -x_i(y_i - 17)
+  \displaystyle\sum_{i=1}^n x_i^2w_1 \qquad \text{multiplying through
by } \frac{n}{2} \\ w_1 \displaystyle\sum_{i=1}^n x_i^2
&amp;=  \displaystyle\sum_{i=1}^n x_i(y_i - 17)   \qquad
\text{rearranging terms and pulling out } w_1 \\ w_1 &amp; =
\dfrac{\displaystyle\sum_{i=1}^n x_i(y_i -
17)}{\displaystyle\sum_{i=1}^n x_i^2} \end{aligned}</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-8.3">Problem 8.3</h3>
<p>True or False: For an arbitrary dataset, the prediction rule <span
class="math inline">H^*(x) = 17 + w_1^*x</span> goes through the point
<span class="math inline">(\bar x, \bar y)</span>.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_3" aria-expanded="true" aria-controls="collapse8_3">
Click to view the solution.
</button>
</h2>
<div id="collapse8_3" class="accordion-collapse collapse"
aria-labelledby="heading8_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False.</p>
<p>When we fit a prediction rule of the form <span class="math inline">H(x) = w_0+w_1x</span> using simple linear
regression, the formula for the intercept <span class="math inline">w_0</span> is designed to make sure the regression
line passes through the point <span class="math inline">(\bar x, \bar
y)</span>. Here, we don’t have the freedom to control our intercept, as
it’s forced to be <span class="math inline">17</span>. This means we
can’t guarantee that the prediction rule <span class="math inline">H^*(x) = 17 + w_1^*x</span> goes through the point
<span class="math inline">(\bar x, \bar y)</span>.</p>
<p>A simple example shows that this is the case. Consider the dataset
<span class="math inline">(-2, 0)</span> and <span class="math inline">(2, 0)</span>. The point <span class="math inline">(\bar x, \bar y)</span> is the origin, but the
prediction rule <span class="math inline">H^*(x)</span> does not pass
through the origin because it has an intercept of <span class="math inline">17</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-8.4">Problem 8.4</h3>
<p>True or False: For an arbitrary dataset, the mean squared error
associated with <span class="math inline">H^*(x)</span> is greater than
or equal to the mean squared error associated with the regression
line.</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading8_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse8_4" aria-expanded="true" aria-controls="collapse8_4">
Click to view the solution.
</button>
</h2>
<div id="collapse8_4" class="accordion-collapse collapse"
aria-labelledby="heading8_4" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>True.</p>
<p>The regression line is the prediction rule of the form <span class="math inline">H(x) = w_0+w_1x</span> with the smallest mean
squared error (MSE). <span class="math inline">H^*(x)</span> is one
example of a prediction rule of that form so unless it happens to be the
regression line itself, the regression line will have lower MSE because
it was designed to have the lowest possible MSE. This means the MSE
associated with <span class="math inline">H^*(x)</span> is greater than
or equal to the MSE associated with the regression line.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-9">Problem 9</h2>
<p><i>Source: <a href="../sp23-final-pt1/index.html">Spring 2023 Final
Part 1</a>, Problem 4</i></p>
<p>In simple linear regression, our goal was to fit a prediction rule of
the form <span class="math inline">H(x) = w_0 + w_1x</span>. We found
many equivalent formulas for the slope of the regression line:</p>
<p><span class="math display">w_1^*
=\displaystyle\frac{\displaystyle\sum_{i=1}^n (x_i - \overline x)(y_i -
\overline y)}{\displaystyle\sum_{i=1}^n (x_i - \overline x)^2}
= \displaystyle\frac{\displaystyle\sum_{i=1}^n (x_i - \overline
x)y_i}{\displaystyle\sum_{i=1}^n (x_i - \overline x)^2}
= r \cdot \displaystyle\frac{\sigma_y}{\sigma_x}</span></p>
<p>Show that any one of the above formulas is equivalent to the formula
below.</p>
<p><span
class="math display">\displaystyle\frac{\displaystyle\sum_{i=1}^n (x_i -
\overline x)(y_i + 2)}{\displaystyle\sum_{i=1}^n (x_i - \overline
x)^2}</span></p>
<p>In other words, this is yet another formula for <span
class="math inline">w_1^*</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading9">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse9" aria-expanded="true" aria-controls="collapse9">
Click to view the solution.
</button>
</h2>
<div id="collapse9" class="accordion-collapse collapse"
aria-labelledby="heading9" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>We’ll show the equivalence to the middle formula above. Since the
denominators are the same, we just need to show <span class="math display">\begin{align*}
     \displaystyle\sum_{i=1}^n (x_i - \overline x)(y_i + 2) &amp;=
\displaystyle\sum_{i=1}^n (x_i - \overline x)y_i.\\
     \displaystyle\sum_{i=1}^n (x_i - \overline x)(y_i + 2) &amp;=
\displaystyle\sum_{i=1}^n (x_i - \overline x)y_i +
\displaystyle\sum_{i=1}^n (x_i - \overline x)\cdot2 \\
     &amp;= \displaystyle\sum_{i=1}^n (x_i - \overline x)y_i +
2\cdot\displaystyle\sum_{i=1}^n (x_i - \overline x) \\
    &amp;= \displaystyle\sum_{i=1}^n (x_i - \overline x)y_i + 2\cdot0 \\
    &amp;= \displaystyle\sum_{i=1}^n (x_i - \overline x)y_i\\
\end{align*}</span></p>
<p>This proof uses a fact we’ve already seen, that <span class="math inline">\displaystyle\sum_{i=1}^n (x_i - \overline x) =
0</span>. It is not necesary to re-prove this fact when answering this
question.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-10">Problem 10</h2>
<p><i>Source: <a href="../wi22-midterm1/index.html">Winter 2022 Midterm
1</a>, Problem 3</i></p>
<p>Suppose you have a dataset <span class="math display">\{(x_1, y_1),
(x_2,y_2), \dots, (x_8, y_8)\}</span> with <span
class="math inline">n=8</span> ordered pairs such that the variance of
<span class="math inline">\{x_1, x_2, \dots, x_8\}</span> is <span
class="math inline">50</span>. Let <span class="math inline">m</span> be
the slope of the regression line fit to this data.</p>
<p>Suppose now we fit a regression line to the dataset <span
class="math display">\{(x_1, y_2), (x_2,y_1), \dots, (x_8, y_8)\}</span>
where the first two <span class="math inline">y</span>-values have been
swapped. Let <span class="math inline">m&#39;</span> be the slope of
this new regression line.</p>
<p>If <span class="math inline">x_1 = 3</span>, <span
class="math inline">y_1 =7</span>, <span
class="math inline">x_2=8</span>, and <span
class="math inline">y_2=2</span>, what is the difference between the new
slope and the old slope? That is, what is <span
class="math inline">m&#39; - m</span>? The answer you get should be a
number with no variables.</p>
<p><strong>Hint:</strong> There are many equivalent formulas for the
slope of the regression line. We recommend using the version of the
formula without <span class="math inline">\overline{y}</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading10">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse10" aria-expanded="true" aria-controls="collapse10">
Click to view the solution.
</button>
</h2>
<div id="collapse10" class="accordion-collapse collapse"
aria-labelledby="heading10" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">m' - m = \dfrac{1}{16}</span></p>
<p>Using the formula for the slope of the regression line, we have:
<span class="math display">
\begin{aligned}
m &amp;= \frac{\sum_{i=1}^n (x_i - \overline x)y_i}{\sum_{i=1}^n (x_i -
\overline x)^2}\\
&amp;= \frac{\sum_{i=1}^n (x_i - \overline x)y_i}{n\cdot \sigma_x^2}\\
&amp;= \frac{(3-\bar{x})\cdot 7 + (8 - \bar{x})\cdot 2 + \sum_{i=3}^n
(x_i - \overline x)y_i}{8\cdot 50}. \\
\end{aligned}
</span></p>
<p>Note that by switching the first two <span class="math inline">y</span>-values, the terms in the sum from <span class="math inline">i=3</span> to <span class="math inline">n</span>,
the number of data points <span class="math inline">n</span>, and the
variance of the <span class="math inline">x</span>-values are all
unchanged.</p>
<p>So the slope becomes:</p>
<p><span class="math display">
\begin{aligned}
m' &amp;= \frac{(3-\bar{x})\cdot 2 + (8 - \bar{x})\cdot 7 +
\sum_{i=3}^n (x_i - \overline x)y_i}{8\cdot 50} \\
\end{aligned}
</span></p>
<p>and the difference between these slopes is given by:</p>
<p><span class="math display">
\begin{aligned}
m'-m &amp;= \frac{(3-\bar{x})\cdot 2 + (8 - \bar{x})\cdot 7 -
((3-\bar{x})\cdot 7 + (8 - \bar{x})\cdot 2)}{8\cdot 50}\\
&amp;= \frac{(3-\bar{x})\cdot 2 + (8 - \bar{x})\cdot 7 -
(3-\bar{x})\cdot 7 - (8 - \bar{x})\cdot 2}{8\cdot 50}\\
&amp;= \frac{(3-\bar{x})\cdot (-5) + (8 - \bar{x})\cdot 5}{8\cdot 50}\\
&amp;= \frac{ -15+5\bar{x} + 40 -5\bar{x}}{8\cdot 50}\\
&amp;= \frac{ 25}{8\cdot 50}\\
&amp;= \frac{ 1}{16}
\end{aligned}
</span></p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-11">Problem 11</h2>
<p><i>Source: <a href="../wi24-final-pt1/index.html">Winter 2024 Final
Part 1</a>, Problem 4</i></p>
<p>Albert collected 400 data points from a radiation detector. Each data
point contains 3 features: feature <span class="math inline">A</span>,
feature <span class="math inline">B</span> and feature <span
class="math inline">C</span>. The true particle energy <span
class="math inline">E</span> is also reported. Albert wants to design a
linear regression algorithm to predict the energy <span
class="math inline">E</span> of each particle, given a combination of
one or more of feature <span class="math inline">A</span>, <span
class="math inline">B</span>, and <span class="math inline">C</span>. As
the first step, Albert calculated the correlation coefficients among
<span class="math inline">A</span>, <span class="math inline">B</span>,
<span class="math inline">C</span> and <span
class="math inline">E</span>. He wrote it down in the following table,
where each cell of the table represents the correlaton of two terms:</p>
<div>
<table>
<colgroup>
<col style="width: 23%" />
<col style="width: 19%" />
<col style="width: 19%" />
<col style="width: 19%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><span class="math inline">A</span>   </th>
<th><span class="math inline">B</span>   </th>
<th><span class="math inline">C</span>   </th>
<th><span class="math inline">E</span>   </th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="math inline">A</span></td>
<td>1</td>
<td>-0.99</td>
<td>0.13</td>
<td>0.8</td>
</tr>
<tr>
<td><span class="math inline">B</span></td>
<td>-0.99</td>
<td>1</td>
<td>0.25</td>
<td>-0.95</td>
</tr>
<tr>
<td><span class="math inline">C</span></td>
<td>0.13</td>
<td>0.25</td>
<td>1</td>
<td>0.72</td>
</tr>
<tr>
<td><span class="math inline">E</span></td>
<td>0.8</td>
<td>-0.95</td>
<td>0.72</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p><br></p>
<h3 id="problem-11.1">Problem 11.1</h3>
<p>Albert wants to start with a simple model: fitting only a single
feature to obtain the true energy (i.e. <span class="math inline">y =
w_0+w_1 x</span>). Which feature should he choose as <span
class="math inline">x</span> to get the lowest mean square error?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">A</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">B</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">C</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_1" aria-expanded="true" aria-controls="collapse11_1">
Click to view the solution.
</button>
</h2>
<div id="collapse11_1" class="accordion-collapse collapse"
aria-labelledby="heading11_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">B</span></p>
<p><span class="math inline">B</span> is the correct answer, because it
has the highest absolute correlation (0.95), the negative sign in front
of <span class="math inline">B</span> just means it is negatively
correlated to energy, and it can be compensated by a negative sign in
the weight.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-11.2">Problem 11.2</h3>
<p>Albert wants to add another feature to his linear regression in part
(a) to further boost the model’s performance. (i.e. <span
class="math inline">y = w_0 + w_1 x + w_2 x_2</span>) Which feature
should he choose as <span class="math inline">x_2</span> to make
additional improvements?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">A</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">B</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">C</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_2" aria-expanded="true" aria-controls="collapse11_2">
Click to view the solution.
</button>
</h2>
<div id="collapse11_2" class="accordion-collapse collapse"
aria-labelledby="heading11_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">C</span></p>
<p><span class="math inline">C</span> is the correct answer, because
although <span class="math inline">A</span> has a higher correlation
with energy, it also has an extremely high correlation with <span class="math inline">B</span> (-0.99), that means adding <span class="math inline">A</span> into the fit will not be too useful, since
it provides almost the same information as <span class="math inline">B</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-11.3">Problem 11.3</h3>
<p>Albert further refines his algorithm by fitting a prediction rule of
the form: <span class="math display">\begin{aligned}
H(A,B,C) = w_0 + w_1 \cdot A\cdot C + w_2 \cdot B^{C-7}
\end{aligned}</span></p>
<p>Given this prediction rule, what are the dimensions of the design
matrix <span class="math inline">X</span>?</p>
<p><span class="math display">\begin{bmatrix}
&amp; &amp; &amp; \\
&amp; &amp; &amp; \\
&amp; &amp; &amp; \\
\end{bmatrix}_{r \times c}</span></p>
<p>So, what are <span class="math inline">r</span> and <span
class="math inline">c</span> in <span class="math inline">r \text{ rows}
\times c \text{ columns}</span>?</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_3" aria-expanded="true" aria-controls="collapse11_3">
Click to view the solution.
</button>
</h2>
<div id="collapse11_3" class="accordion-collapse collapse"
aria-labelledby="heading11_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">400 \text{ rows} \times 3 \text{
columns}</span></p>
<p>Recall there are 400 data points, which means there will be 400 rows.
There will be 3 columns; one is the bias column of all <span class="math inline">1</span>s, one is for the feature <span class="math inline">A\cdot C</span>, and one is for the feature <span class="math inline">B^{C-7}</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<!-- Commented out the last subproblem, because the solution is weird?? Need to rework. -->
<!-- <br>

### Problem 11.4



Now Albert solves the normal equations and finds the solution to be:
$$\vec{w}^* = \begin{bmatrix} w_0^* \\ w_1^* \\ w_2^*  \end{bmatrix}$$
To improve on this result, Albert decides to modify his design matrix
with the following steps:

1.  Add 1 to every entry to the first column

2.  Swap the second and the third column

Let $X_a$ be the modified design matrix. Let
$\vec{w_a}^* = (X_a^TX_a)^{-1}X_a^T\vec{y}$. 

Express the components
$\vec{w_a}^*$ in terms of $w_0^*, w_1^*, w_2^*$, which were the
components of $\vec{w}^*$.

$$\vec{w_a}^* = \begin{bmatrix} ? \\ ? \\ ? \\ \end{bmatrix}$$






<div class="accordion" id="accordionExample">
<div class="accordion-item">
<h2 class="accordion-header" id="heading11_4">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse11_4" aria-expanded="true" aria-controls="collapse11_4">
Click to view the solution.
</button>
</h2>
<div id="collapse11_4" class="accordion-collapse collapse collapse" aria-labelledby="heading11_4" data-bs-parent="#accordionExample">
<div class="accordion-body">

<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math display">\vec{w}^* = \begin{bmatrix} w_0^*/2 \\
w_2^* \\ w_1^*  \end{bmatrix}</span></p>
<p>We should follow the steps Albert did to construct <span class="math inline">X</span>. We will add <span class="math inline">1</span> to be the first element in each row and
then switch the constants attached to <span class="math inline">w_1</span> (<span class="math inline">A \cdot
B</span>) and <span class="math inline">w_2</span> (<span class="math inline">B^{C-7}</span>): <span class="math display">
X_a = \begin{bmatrix}
1 &amp; B^{C-7} &amp; A \\
1 &amp; B^{C-7} &amp; A \\
\vdots &amp; \vdots &amp; \vdots \\
1 &amp; B^{C-7} &amp; A
\end{bmatrix}
</span></p>
<p>We know that <span class="math inline">X_\alpha^T X_\alpha</span> is
the same as an identity matrix. The inverse of an identity matrix is the
same as it was before.</p>
<p>This means we are really looking at <span class="math inline">X_\alpha^T \vec{y}</span>: <span class="math display">
\begin{align*}
X_\alpha^T \vec{y} &amp;= \begin{bmatrix}
1 &amp; 1 &amp; \cdots &amp; 1 \\
B^{C-7} &amp; B^{C-7} &amp; \cdots &amp; B^{C-7} \\
A &amp; A &amp; \cdots &amp; A
\end{bmatrix} \cdot \begin{bmatrix}
y_1 \\
y_2 \\
\vdots \\
y_{400}
\end{bmatrix} \\
&amp;= \begin{bmatrix}
\sum_{i = 1}^{400}{y_i}\\
\sum_{i = 1}^{400}{B^{C-7} \cdot y_i} \\
\sum_{i = 1}^{400}{A \cdot y_i}
\end{bmatrix}
\end{align*}
</span></p>
<p>The first component of our final matrix, <span class="math inline">sum_{i = 1}^{400}{y_i}</span>, is proportional to
<span class="math inline">w_0^*</span>. The second component of our
matrix, <span class="math inline">\sum_{i = 1}^{400}{B^{C-7} \cdot
y_i}</span>, is proportional to <span class="math inline">w_2^*</span>.
Finally, the third component of our matrix, <span class="math inline">\sum_{i = 1}^{400}{A \cdot y_i}</span>, is
proportional to <span class="math inline">w_1^*</span>.</p>

</div>
</div>
</div>
</div>




    
<br> -->
<hr />
<h2 id="problem-12">Problem 12</h2>
<p><i>Source: <a href="../wi24-midterm1/index.html">Winter 2024 Midterm
1</a>, Problem 4</i></p>
<p>Note that we have two simplified closed form expressions for the
estimated slope <span class="math inline">w</span> in simple linear
regression that you have already seen in discussions and lectures:</p>
<p><span class="math display">\begin{align*}
    w &amp;= \frac{\sum_i (x_i - \overline{x}) y_i}{\sum_i (x_i -
\overline{x})^2} \\ \\
    w &amp;= \frac{\sum_i (y_i - \overline{y}) x_i }{\sum_i (x_i -
\overline{x})^2}
\end{align*}</span></p>
<p>where we have dataset <span class="math inline">D = [(x_1,y_1),
\ldots, (x_n,y_n)]</span> and sample means   <span
class="math inline">\overline{x} = {1 \over n} \sum_{i} x_i, \quad
\overline{y} = {1 \over n} \sum_{i} y_i</span>. Without further
explanation, <span class="math inline">\sum_i</span> means <span
class="math inline">\sum_{i=1}^n</span></p>
<p><br></p>
<h3 id="problem-12.1">Problem 12.1</h3>
<p>Are (<span class="math inline">1</span>) and (<span
class="math inline">2</span>) equivalent? That is, is the following
equality true? Prove or disprove it. <span class="math display">\sum_i
(x_i - \overline{x}) y_i = \sum_i (y_i - \overline{y}) x_i</span></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_1" aria-expanded="true" aria-controls="collapse12_1">
Click to view the solution.
</button>
</h2>
<div id="collapse12_1" class="accordion-collapse collapse"
aria-labelledby="heading12_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>True. <span class="math display">\begin{align*}
    &amp; \sum_i (x_i - \overline{x}) y_i = \sum_i (y_i - \overline{y})
x_i \\
    &amp; \Leftrightarrow  \sum_i x_i y_i - \overline{x} \sum_i y_i =
\sum_i x_i y_i - \overline{y} \sum_i x_i \\
    &amp; \Leftrightarrow   \overline{x} \sum_i y_i = \overline{y}
\sum_i x_i \\
    &amp; \Leftrightarrow {1 \over n} \sum_i x_i \sum_i y_i = {1 \over
n} \sum_i y_i \sum_i x_i \\
\end{align*}</span></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-12.2">Problem 12.2</h3>
<p>True or False: If the dataset shifted right by a constant distance
<span class="math inline">a</span>, that is, we have the new dataset
<span class="math inline">D_a = (x_1 + a,y_1), \ldots, (x_n +
a,y_n)</span>, then will the estimated slope <span
class="math inline">w</span> change or not?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_2" aria-expanded="true" aria-controls="collapse12_2">
Click to view the solution.
</button>
</h2>
<div id="collapse12_2" class="accordion-collapse collapse"
aria-labelledby="heading12_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False. By (<span class="math inline">1</span>) in part (a), we can
view <span class="math inline">w</span> as only being affected by <span class="math inline">x_i - \overline{x}</span>, which is unchanged after
shifting horizontally. Therefore, <span class="math inline">w</span> is
unchanged.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<p><br></p>
<h3 id="problem-12.3">Problem 12.3</h3>
<p>True or False: If the dataset shifted up by a constant distance <span
class="math inline">b</span>, that is, we have the new dataset <span
class="math inline">D_b = [(x_1,y_1 + b), \ldots, (x_n,y_n + b)]</span>,
then will the estimated slope <span class="math inline">w</span> change
or not?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> True</p></li>
<li><p><input type="radio" disabled="" /> False</p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading12_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse12_3" aria-expanded="true" aria-controls="collapse12_3">
Click to view the solution.
</button>
</h2>
<div id="collapse12_3" class="accordion-collapse collapse"
aria-labelledby="heading12_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p>False. By (<span class="math inline">2</span>) in part (a), we can
view <span class="math inline">w</span> as only being affected by <span class="math inline">y_i - \overline{y}</span>, which is unchanged after
shifting vertically. Therefore, <span class="math inline">w</span> is
unchanged.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-13">Problem 13</h2>
<p><i>Source: <a href="../sp24-final/index.html">Spring 2024 Final</a>,
Problem 3</i></p>
<p>Suppose we’re given a dataset of <span class="math inline">n</span>
points, <span class="math inline">(x_1, y_1), (x_2, y_2), ..., (x_n,
y_n)</span>, where <span class="math inline">\bar{x}</span> is the mean
of <span class="math inline">x_1, x_2, ..., x_n</span> and <span
class="math inline">\bar{y}</span> is the mean of <span
class="math inline">y_1, y_2, ..., y_n</span>.</p>
<p>Using this dataset, we create a <em>transformed</em> dataset of <span
class="math inline">n</span> points, <span
class="math inline">(x_1&#39;, y_1&#39;), (x_2&#39;, y_2&#39;), ...,
(x_n&#39;, y_n&#39;)</span>, where:</p>
<p><span class="math display">x_i&#39; = 4x_i - 3 \qquad y_i&#39; = y_i
+ 24</span></p>
<p>That is, the transformed dataset is of the form <span
class="math inline">(4x_1 - 3, y_1 + 24), ..., (4x_n - 3, y_n +
24)</span>.</p>
<p>We decide to fit a simple linear hypothesis function <span
class="math inline">H(x&#39;) = w_0 + w_1x&#39;</span> on the
transformed dataset using squared loss. We find that <span
class="math inline">w_0^* = 7</span> and <span class="math inline">w_1^*
= 2</span>, so <span class="math inline">H^*(x&#39;) = 7 +
2x&#39;</span>.</p>
<p><br></p>
<h3 id="problem-13.1">Problem 13.1</h3>
<p>Suppose we were to fit a simple linear hypothesis function through
the original dataset, <span class="math inline">(x_1, y_1), (x_2, y_2),
..., (x_n, y_n)</span>, again using squared loss. What would the optimal
slope be?</p>
<ul class="task-list">
<li><p><input type="radio" disabled="" /> <span class="math inline">2</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">4</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">6</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">8</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">11</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">12</span></p></li>
<li><p><input type="radio" disabled="" /> <span class="math inline">24</span></p></li>
</ul>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_1" aria-expanded="true" aria-controls="collapse13_1">
Click to view the solution.
</button>
</h2>
<div id="collapse13_1" class="accordion-collapse collapse"
aria-labelledby="heading13_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">8.</span></p>
<p>Relative to the dataset with <span class="math inline">x'</span>,
the dataset with <span class="math inline">x</span> has an <span class="math inline">x</span>-variable that’s “compressed” by a factor of
4, so the slope increases by a factor of 4 to <span class="math inline">2 \cdot 4 = 8</span>.</p>
<p>Concretely, this can be shown by looking at the formula <span class="math inline">2 = r\frac{SD(y')}{SD(x')}</span>,
recognizing that <span class="math inline">SD(y') = SD(y)</span>
since the <span class="math inline">y</span> values have the same spread
in both datasets, and that <span class="math inline">SD(x') = 4
SD(x)</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-13.2">Problem 13.2</h3>
<p>Recall, the hypothesis function <span class="math inline">H^*</span>
was fit on the transformed dataset,</p>
<p><span class="math inline">(x_1&#39;, y_1&#39;), (x_2&#39;, y_2&#39;),
..., (x_n&#39;, y_n&#39;)</span>. <span class="math inline">H^*</span>
happens to pass through the point <span class="math inline">(\bar{x},
\bar{y})</span>. What is the value of <span
class="math inline">\bar{x}</span>? Give your answer as an integer with
no variables.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading13_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse13_2" aria-expanded="true" aria-controls="collapse13_2">
Click to view the solution.
</button>
</h2>
<div id="collapse13_2" class="accordion-collapse collapse"
aria-labelledby="heading13_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
<p><span class="math inline">5</span>.</p>
<p>The key idea is that the regression line always passes through <span class="math inline">(\text{mean } x, \text{mean } y)</span> in the
dataset we used to fit it. So, we know that: <span class="math inline">2
\bar{x'} + 7 = \bar{y'}</span>. This first equation can be
rewritten as: <span class="math inline">2 \cdot (4\bar{x} - 3) + 7 =
\bar{y} + 24</span>.</p>
<p>We’re also told this line passes through <span class="math inline">(\bar{x}, \bar{y})</span>, which means that it’s
also true that: <span class="math inline">2 \bar{x} + 7 =
\bar{y}</span>.</p>
<p>Now we have a system of two equations:</p>
<p><span class="math inline">\begin{cases}
2 \cdot (4\bar{x} - 3) + 7 = \bar{y} + 24 \\
2 \bar{x} + 7 = \bar{y}
\end{cases}</span></p>
<p><span class="math inline">\dots</span> and solving our system of two
equations gives: <span class="math display">\bar{x} = 5</span>.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="problem-14">Problem 14</h2>
<p><i>Source: <a href="../ss1-25-midterm/index.html">Summer Session 1
2025 Midterm</a>, Problem 1</i></p>
<p>Let <span class="math inline">\{(x_i,y_i)\}_{i=1}^n</span> be a
dataset of scalar input-output pairs, and consider the simple linear
regression model</p>
<p><span class="math display">
f(a, b;\, x) = ax + b,\qquad a, b\in\mathbb{R}.
</span></p>
<p>Let <span class="math inline">\gamma &gt; 0</span> be a fixed
constant which is understood to be separate from the training data and
the weights. Define the <span class="math inline">\gamma</span>-risk
according to the formula</p>
<p><span class="math display">
R_{\gamma}(a, b) = \gamma a^2 + \frac{1}{n}\sum_{i=1}^{n} (y_i - (ax_i +
b))^2.
</span></p>
<p>Find closed-form expressions for the global minimizers <span
class="math inline">a^\ast, b^\ast</span> of the <span
class="math inline">\gamma</span>-risk for the training data <span
class="math inline">\{(x_i,y_i)\}_{i=1}^n</span>. In your solution, you
should clearly label and explain each step.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading14">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse14" aria-expanded="true" aria-controls="collapse14">
Click to view the solution.
</button>
</h2>
<div id="collapse14" class="accordion-collapse collapse"
aria-labelledby="heading14" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<hr />
<h2 id="problem-15">Problem 15</h2>
<p><i>Source: <a href="../ss1-25-midterm/index.html">Summer Session 1
2025 Midterm</a>, Problem 5a-c</i></p>
<p>Let <span class="math inline">\{(x_i,y_i)\}_{i=1}^n</span> be a
dataset of scalar input-output pairs.</p>
<p><br></p>
<h3 id="problem-15.1">Problem 15.1</h3>
<p>Suppose we model <span class="math inline">y</span> using a simple
linear regression model of the form</p>
<p><span class="math display">
f(\vec{\theta};\, x) = \vec{\theta}^{(0)} + \vec{\theta}^{(1)}x,
\qquad\vec{\theta}\in\mathbb{R}^2.
</span></p>
<p>Prove that the line of best fit (with respect to MSE) passes through
the point <span class="math inline">(\overline{x},
\overline{y})</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading15_1">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse15_1" aria-expanded="true" aria-controls="collapse15_1">
Click to view the solution.
</button>
</h2>
<div id="collapse15_1" class="accordion-collapse collapse"
aria-labelledby="heading15_1" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-15.2">Problem 15.2</h3>
<p>Suppose we model <span class="math inline">y</span> using a simple
polynomial regression model of the form</p>
<p><span class="math display">
f(\vec{\theta};\, x) = \vec{\theta}^{(0)} + \vec{\theta}^{(1)}x+
\vec{\theta}^{(2)}x^2, \qquad\vec{\theta}\in\mathbb{R}^3.
</span></p>
<p>Prove that the curve of best fit (with respect to MSE) passes through
the point <span class="math inline">(\overline{x}, \overline{y} +
\vec\theta^{\ast(2)}((\overline{x})^2 - \overline{x^2}))</span>,
where</p>
<p><span class="math display">
\overline{x^2} = \frac{1}{n}\sum_{i=1}^n x_i^2.
</span></p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading15_2">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse15_2" aria-expanded="true" aria-controls="collapse15_2">
Click to view the solution.
</button>
</h2>
<div id="collapse15_2" class="accordion-collapse collapse"
aria-labelledby="heading15_2" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="problem-15.3">Problem 15.3</h3>
<p>Using the same model as (b), suppose we minimize MSE and find optimal
parameters <span class="math inline">\vec{\theta}^\ast</span>. Further
suppose we apply a shifting and scaling operation to the training
targets, defining</p>
<p><span class="math display">
\widetilde{y_i} = \alpha(y_i - \beta),\qquad\alpha,\beta\in\mathbb{R}.
</span></p>
<p>Find formulas for the new optimal parameters, denoted <span
class="math inline">\vec{\widetilde{\theta}}^\ast</span>, in terms of
the old parameters and <span class="math inline">\alpha,
\beta</span>.</p>
<div id="accordionExample" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header" id="heading15_3">
<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse15_3" aria-expanded="true" aria-controls="collapse15_3">
Click to view the solution.
</button>
</h2>
<div id="collapse15_3" class="accordion-collapse collapse"
aria-labelledby="heading15_3" data-bs-parent="#accordionExample">
<div class="accordion-body">
<header id="title-block-header">
<h1 class="title"> </h1>
</header>
</div>
</div>
</div>
</div>
<p><br></p>
<hr />
<h2 id="section"><span class="math display"> </span></h2>
<h4
id="feedback-find-an-error-still-confused-have-a-suggestion-let-us-know-here.">👋
Feedback: Find an error? Still confused? Have a suggestion?
<a href="https://forms.gle/WZ71FchnXU1K154d7">Let us know
here</u></a>.</h4>
<hr />
</body>
</html>
